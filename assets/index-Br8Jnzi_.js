(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function Ly(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fu={exports:{}},Bi={},hu={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function My(){if(zh)return se;zh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=w&&_[w]||_["@@iterator"],typeof _=="function"?_:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function O(_,R,G){this.props=_,this.context=R,this.refs=D,this.updater=G||N}O.prototype.isReactComponent={},O.prototype.setState=function(_,R){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,R,"setState")},O.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function z(){}z.prototype=O.prototype;function U(_,R,G){this.props=_,this.context=R,this.refs=D,this.updater=G||N}var ee=U.prototype=new z;ee.constructor=U,x(ee,O.prototype),ee.isPureReactComponent=!0;var re=Array.isArray,de=Object.prototype.hasOwnProperty,Ee={current:null},Ce={key:!0,ref:!0,__self:!0,__source:!0};function Oe(_,R,G){var J,te={},ie=null,me=null;if(R!=null)for(J in R.ref!==void 0&&(me=R.ref),R.key!==void 0&&(ie=""+R.key),R)de.call(R,J)&&!Ce.hasOwnProperty(J)&&(te[J]=R[J]);var he=arguments.length-2;if(he===1)te.children=G;else if(1<he){for(var Te=Array(he),_t=0;_t<he;_t++)Te[_t]=arguments[_t+2];te.children=Te}if(_&&_.defaultProps)for(J in he=_.defaultProps,he)te[J]===void 0&&(te[J]=he[J]);return{$$typeof:i,type:_,key:ie,ref:me,props:te,_owner:Ee.current}}function xe(_,R){return{$$typeof:i,type:_.type,key:R,ref:_.ref,props:_.props,_owner:_._owner}}function ze(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function Ct(_){var R={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(G){return R[G]})}var St=/\/+/g;function it(_,R){return typeof _=="object"&&_!==null&&_.key!=null?Ct(""+_.key):R.toString(36)}function gt(_,R,G,J,te){var ie=typeof _;(ie==="undefined"||ie==="boolean")&&(_=null);var me=!1;if(_===null)me=!0;else switch(ie){case"string":case"number":me=!0;break;case"object":switch(_.$$typeof){case i:case t:me=!0}}if(me)return me=_,te=te(me),_=J===""?"."+it(me,0):J,re(te)?(G="",_!=null&&(G=_.replace(St,"$&/")+"/"),gt(te,R,G,"",function(_t){return _t})):te!=null&&(ze(te)&&(te=xe(te,G+(!te.key||me&&me.key===te.key?"":(""+te.key).replace(St,"$&/")+"/")+_)),R.push(te)),1;if(me=0,J=J===""?".":J+":",re(_))for(var he=0;he<_.length;he++){ie=_[he];var Te=J+it(ie,he);me+=gt(ie,R,G,Te,te)}else if(Te=v(_),typeof Te=="function")for(_=Te.call(_),he=0;!(ie=_.next()).done;)ie=ie.value,Te=J+it(ie,he++),me+=gt(ie,R,G,Te,te);else if(ie==="object")throw R=String(_),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return me}function kt(_,R,G){if(_==null)return _;var J=[],te=0;return gt(_,J,"","",function(ie){return R.call(G,ie,te++)}),J}function Ze(_){if(_._status===-1){var R=_._result;R=R(),R.then(function(G){(_._status===0||_._status===-1)&&(_._status=1,_._result=G)},function(G){(_._status===0||_._status===-1)&&(_._status=2,_._result=G)}),_._status===-1&&(_._status=0,_._result=R)}if(_._status===1)return _._result.default;throw _._result}var Ie={current:null},B={transition:null},X={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:B,ReactCurrentOwner:Ee};function $(){throw Error("act(...) is not supported in production builds of React.")}return se.Children={map:kt,forEach:function(_,R,G){kt(_,function(){R.apply(this,arguments)},G)},count:function(_){var R=0;return kt(_,function(){R++}),R},toArray:function(_){return kt(_,function(R){return R})||[]},only:function(_){if(!ze(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},se.Component=O,se.Fragment=r,se.Profiler=l,se.PureComponent=U,se.StrictMode=o,se.Suspense=p,se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,se.act=$,se.cloneElement=function(_,R,G){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var J=x({},_.props),te=_.key,ie=_.ref,me=_._owner;if(R!=null){if(R.ref!==void 0&&(ie=R.ref,me=Ee.current),R.key!==void 0&&(te=""+R.key),_.type&&_.type.defaultProps)var he=_.type.defaultProps;for(Te in R)de.call(R,Te)&&!Ce.hasOwnProperty(Te)&&(J[Te]=R[Te]===void 0&&he!==void 0?he[Te]:R[Te])}var Te=arguments.length-2;if(Te===1)J.children=G;else if(1<Te){he=Array(Te);for(var _t=0;_t<Te;_t++)he[_t]=arguments[_t+2];J.children=he}return{$$typeof:i,type:_.type,key:te,ref:ie,props:J,_owner:me}},se.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:u,_context:_},_.Consumer=_},se.createElement=Oe,se.createFactory=function(_){var R=Oe.bind(null,_);return R.type=_,R},se.createRef=function(){return{current:null}},se.forwardRef=function(_){return{$$typeof:h,render:_}},se.isValidElement=ze,se.lazy=function(_){return{$$typeof:E,_payload:{_status:-1,_result:_},_init:Ze}},se.memo=function(_,R){return{$$typeof:g,type:_,compare:R===void 0?null:R}},se.startTransition=function(_){var R=B.transition;B.transition={};try{_()}finally{B.transition=R}},se.unstable_act=$,se.useCallback=function(_,R){return Ie.current.useCallback(_,R)},se.useContext=function(_){return Ie.current.useContext(_)},se.useDebugValue=function(){},se.useDeferredValue=function(_){return Ie.current.useDeferredValue(_)},se.useEffect=function(_,R){return Ie.current.useEffect(_,R)},se.useId=function(){return Ie.current.useId()},se.useImperativeHandle=function(_,R,G){return Ie.current.useImperativeHandle(_,R,G)},se.useInsertionEffect=function(_,R){return Ie.current.useInsertionEffect(_,R)},se.useLayoutEffect=function(_,R){return Ie.current.useLayoutEffect(_,R)},se.useMemo=function(_,R){return Ie.current.useMemo(_,R)},se.useReducer=function(_,R,G){return Ie.current.useReducer(_,R,G)},se.useRef=function(_){return Ie.current.useRef(_)},se.useState=function(_){return Ie.current.useState(_)},se.useSyncExternalStore=function(_,R,G){return Ie.current.useSyncExternalStore(_,R,G)},se.useTransition=function(){return Ie.current.useTransition()},se.version="18.3.1",se}var jh;function Zu(){return jh||(jh=1,hu.exports=My()),hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function Fy(){if(Uh)return Bi;Uh=1;var i=Zu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var E,w={},v=null,N=null;g!==void 0&&(v=""+g),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(N=p.ref);for(E in p)o.call(p,E)&&!u.hasOwnProperty(E)&&(w[E]=p[E]);if(h&&h.defaultProps)for(E in p=h.defaultProps,p)w[E]===void 0&&(w[E]=p[E]);return{$$typeof:t,type:h,key:v,ref:N,props:w,_owner:l.current}}return Bi.Fragment=r,Bi.jsx=d,Bi.jsxs=d,Bi}var Bh;function by(){return Bh||(Bh=1,fu.exports=Fy()),fu.exports}var b=by(),P=Zu();const ir=Ly(P);var Do={},pu={exports:{}},ht={},mu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function zy(){return Wh||(Wh=1,function(i){function t(B,X){var $=B.length;B.push(X);e:for(;0<$;){var _=$-1>>>1,R=B[_];if(0<l(R,X))B[_]=X,B[$]=R,$=_;else break e}}function r(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var X=B[0],$=B.pop();if($!==X){B[0]=$;e:for(var _=0,R=B.length,G=R>>>1;_<G;){var J=2*(_+1)-1,te=B[J],ie=J+1,me=B[ie];if(0>l(te,$))ie<R&&0>l(me,te)?(B[_]=me,B[ie]=$,_=ie):(B[_]=te,B[J]=$,_=J);else if(ie<R&&0>l(me,$))B[_]=me,B[ie]=$,_=ie;else break e}}return X}function l(B,X){var $=B.sortIndex-X.sortIndex;return $!==0?$:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var p=[],g=[],E=1,w=null,v=3,N=!1,x=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(B){for(var X=r(g);X!==null;){if(X.callback===null)o(g);else if(X.startTime<=B)o(g),X.sortIndex=X.expirationTime,t(p,X);else break;X=r(g)}}function re(B){if(D=!1,ee(B),!x)if(r(p)!==null)x=!0,Ze(de);else{var X=r(g);X!==null&&Ie(re,X.startTime-B)}}function de(B,X){x=!1,D&&(D=!1,z(Oe),Oe=-1),N=!0;var $=v;try{for(ee(X),w=r(p);w!==null&&(!(w.expirationTime>X)||B&&!Ct());){var _=w.callback;if(typeof _=="function"){w.callback=null,v=w.priorityLevel;var R=_(w.expirationTime<=X);X=i.unstable_now(),typeof R=="function"?w.callback=R:w===r(p)&&o(p),ee(X)}else o(p);w=r(p)}if(w!==null)var G=!0;else{var J=r(g);J!==null&&Ie(re,J.startTime-X),G=!1}return G}finally{w=null,v=$,N=!1}}var Ee=!1,Ce=null,Oe=-1,xe=5,ze=-1;function Ct(){return!(i.unstable_now()-ze<xe)}function St(){if(Ce!==null){var B=i.unstable_now();ze=B;var X=!0;try{X=Ce(!0,B)}finally{X?it():(Ee=!1,Ce=null)}}else Ee=!1}var it;if(typeof U=="function")it=function(){U(St)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,kt=gt.port2;gt.port1.onmessage=St,it=function(){kt.postMessage(null)}}else it=function(){O(St,0)};function Ze(B){Ce=B,Ee||(Ee=!0,it())}function Ie(B,X){Oe=O(function(){B(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){x||N||(x=!0,Ze(de))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return r(p)},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var $=v;v=X;try{return B()}finally{v=$}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=v;v=B;try{return X()}finally{v=$}},i.unstable_scheduleCallback=function(B,X,$){var _=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?_+$:_):$=_,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,B={id:E++,callback:X,priorityLevel:B,startTime:$,expirationTime:R,sortIndex:-1},$>_?(B.sortIndex=$,t(g,B),r(p)===null&&B===r(g)&&(D?(z(Oe),Oe=-1):D=!0,Ie(re,$-_))):(B.sortIndex=R,t(p,B),x||N||(x=!0,Ze(de))),B},i.unstable_shouldYield=Ct,i.unstable_wrapCallback=function(B){var X=v;return function(){var $=v;v=X;try{return B.apply(this,arguments)}finally{v=$}}}}(gu)),gu}var $h;function jy(){return $h||($h=1,mu.exports=zy()),mu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function Uy(){if(Hh)return ht;Hh=1;var i=Zu(),t=jy();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},w={};function v(e){return p.call(w,e)?!0:p.call(E,e)?!1:g.test(e)?w[e]=!0:(E[e]=!0,!1)}function N(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x(e,n,s,a){if(n===null||typeof n>"u"||N(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,s,a,c,f,m){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=m}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];O[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(z,U);O[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(z,U);O[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(z,U);O[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function ee(e,n,s,a){var c=O.hasOwnProperty(n)?O[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(x(n,s,c,a)&&(s=null),a||c===null?v(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var re=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),Oe=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),Ct=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),B=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,_;function R(e){if(_===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+e}var G=!1;function J(e,n){if(!e||G)return"";G=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var a=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){a=T}e.call(n.prototype)}else{try{throw Error()}catch(T){a=T}e()}}catch(T){if(T&&a&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),f=a.stack.split(`
`),m=c.length-1,y=f.length-1;1<=m&&0<=y&&c[m]!==f[y];)y--;for(;1<=m&&0<=y;m--,y--)if(c[m]!==f[y]){if(m!==1||y!==1)do if(m--,y--,0>y||c[m]!==f[y]){var C=`
`+c[m].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=m&&0<=y);break}}}finally{G=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function te(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=J(e.type,!1),e;case 11:return e=J(e.type.render,!1),e;case 1:return e=J(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ce:return"Fragment";case Ee:return"Portal";case xe:return"Profiler";case Oe:return"StrictMode";case it:return"Suspense";case gt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ct:return(e.displayName||"Context")+".Consumer";case ze:return(e._context.displayName||"Context")+".Provider";case St:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kt:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case Ze:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}function me(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(n);case 8:return n===Oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _t(e){var n=Te(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,f.call(this,m)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ws(e){e._valueTracker||(e._valueTracker=_t(e))}function $c(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=Te(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vl(e,n){var s=n.checked;return $({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Hc(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=he(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Vc(e,n){n=n.checked,n!=null&&ee(e,"checked",n,!1)}function wl(e,n){Vc(e,n);var s=he(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?El(e,n.type,s):n.hasOwnProperty("defaultValue")&&El(e,n.type,he(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Gc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function El(e,n,s){(n!=="number"||Es(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ni=Array.isArray;function hr(e,n,s,a){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+he(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Cl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return $({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(ni(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:he(s)}}function Kc(e,n){var s=he(n.value),a=he(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Yc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?qc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cs,Xc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ri(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jg=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(e){jg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ii[n]=ii[e]})});function Jc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ii.hasOwnProperty(e)&&ii[e]?(""+n).trim():n+"px"}function Zc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=Jc(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var Ug=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kl(e,n){if(n){if(Ug[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function xl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function Tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nl=null,pr=null,mr=null;function ed(e){if(e=Ii(e)){if(typeof Nl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Vs(n),Nl(e.stateNode,e.type,n))}}function td(e){pr?mr?mr.push(e):mr=[e]:pr=e}function nd(){if(pr){var e=pr,n=mr;if(mr=pr=null,ed(e),n)for(e=0;e<n.length;e++)ed(n[e])}}function rd(e,n){return e(n)}function id(){}var Rl=!1;function sd(e,n,s){if(Rl)return e(n,s);Rl=!0;try{return rd(e,n,s)}finally{Rl=!1,(pr!==null||mr!==null)&&(id(),nd())}}function si(e,n){var s=e.stateNode;if(s===null)return null;var a=Vs(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Pl=!1;if(h)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{Pl=!1}function Bg(e,n,s,a,c,f,m,y,C){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(L){this.onError(L)}}var li=!1,Ss=null,ks=!1,Dl=null,Wg={onError:function(e){li=!0,Ss=e}};function $g(e,n,s,a,c,f,m,y,C){li=!1,Ss=null,Bg.apply(Wg,arguments)}function Hg(e,n,s,a,c,f,m,y,C){if($g.apply(this,arguments),li){if(li){var T=Ss;li=!1,Ss=null}else throw Error(r(198));ks||(ks=!0,Dl=T)}}function Bn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function od(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function ld(e){if(Bn(e)!==e)throw Error(r(188))}function Vg(e){var n=e.alternate;if(!n){if(n=Bn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,a=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return ld(c),e;if(f===a)return ld(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==a.return)s=c,a=f;else{for(var m=!1,y=c.child;y;){if(y===s){m=!0,s=c,a=f;break}if(y===a){m=!0,a=c,s=f;break}y=y.sibling}if(!m){for(y=f.child;y;){if(y===s){m=!0,s=f,a=c;break}if(y===a){m=!0,a=f,s=c;break}y=y.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function ad(e){return e=Vg(e),e!==null?ud(e):null}function ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ud(e);if(n!==null)return n;e=e.sibling}return null}var cd=t.unstable_scheduleCallback,dd=t.unstable_cancelCallback,Gg=t.unstable_shouldYield,Qg=t.unstable_requestPaint,Fe=t.unstable_now,Kg=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,fd=t.unstable_UserBlockingPriority,xs=t.unstable_NormalPriority,Yg=t.unstable_LowPriority,hd=t.unstable_IdlePriority,Is=null,Wt=null;function qg(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Zg,Xg=Math.log,Jg=Math.LN2;function Zg(e){return e>>>=0,e===0?32:31-(Xg(e)/Jg|0)|0}var Ts=64,Ns=4194304;function ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rs(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,m=s&268435455;if(m!==0){var y=m&~c;y!==0?a=ai(y):(f&=m,f!==0&&(a=ai(f)))}else m=s&~c,m!==0?a=ai(m):f!==0&&(a=ai(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Ot(n),c=1<<s,a|=e[s],n&=~c;return a}function e_(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t_(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var m=31-Ot(f),y=1<<m,C=c[m];C===-1?(!(y&s)||y&a)&&(c[m]=e_(y,n)):C<=n&&(e.expiredLanes|=y),f&=~y}}function Al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pd(){var e=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),e}function Ll(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ui(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ot(n),e[n]=s}function n_(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Ot(s),f=1<<c;n[c]=0,a[c]=-1,e[c]=-1,s&=~f}}function Ml(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Ot(s),c=1<<a;c&n|e[a]&n&&(e[a]|=n),s&=~c}}var pe=0;function md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gd,Fl,_d,yd,vd,bl=!1,Ps=[],pn=null,mn=null,gn=null,ci=new Map,di=new Map,_n=[],r_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wd(e,n){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":ci.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(n.pointerId)}}function fi(e,n,s,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ii(n),n!==null&&Fl(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function i_(e,n,s,a,c){switch(n){case"focusin":return pn=fi(pn,e,n,s,a,c),!0;case"dragenter":return mn=fi(mn,e,n,s,a,c),!0;case"mouseover":return gn=fi(gn,e,n,s,a,c),!0;case"pointerover":var f=c.pointerId;return ci.set(f,fi(ci.get(f)||null,e,n,s,a,c)),!0;case"gotpointercapture":return f=c.pointerId,di.set(f,fi(di.get(f)||null,e,n,s,a,c)),!0}return!1}function Ed(e){var n=Wn(e.target);if(n!==null){var s=Bn(n);if(s!==null){if(n=s.tag,n===13){if(n=od(s),n!==null){e.blockedOn=n,vd(e.priority,function(){_d(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=jl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Il=a,s.target.dispatchEvent(a),Il=null}else return n=Ii(s),n!==null&&Fl(n),e.blockedOn=s,!1;n.shift()}return!0}function Cd(e,n,s){Ds(e)&&s.delete(n)}function s_(){bl=!1,pn!==null&&Ds(pn)&&(pn=null),mn!==null&&Ds(mn)&&(mn=null),gn!==null&&Ds(gn)&&(gn=null),ci.forEach(Cd),di.forEach(Cd)}function hi(e,n){e.blockedOn===n&&(e.blockedOn=null,bl||(bl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s_)))}function pi(e){function n(c){return hi(c,e)}if(0<Ps.length){hi(Ps[0],e);for(var s=1;s<Ps.length;s++){var a=Ps[s];a.blockedOn===e&&(a.blockedOn=null)}}for(pn!==null&&hi(pn,e),mn!==null&&hi(mn,e),gn!==null&&hi(gn,e),ci.forEach(n),di.forEach(n),s=0;s<_n.length;s++)a=_n[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<_n.length&&(s=_n[0],s.blockedOn===null);)Ed(s),s.blockedOn===null&&_n.shift()}var gr=re.ReactCurrentBatchConfig,Os=!0;function o_(e,n,s,a){var c=pe,f=gr.transition;gr.transition=null;try{pe=1,zl(e,n,s,a)}finally{pe=c,gr.transition=f}}function l_(e,n,s,a){var c=pe,f=gr.transition;gr.transition=null;try{pe=4,zl(e,n,s,a)}finally{pe=c,gr.transition=f}}function zl(e,n,s,a){if(Os){var c=jl(e,n,s,a);if(c===null)na(e,n,a,As,s),wd(e,a);else if(i_(c,e,n,s,a))a.stopPropagation();else if(wd(e,a),n&4&&-1<r_.indexOf(e)){for(;c!==null;){var f=Ii(c);if(f!==null&&gd(f),f=jl(e,n,s,a),f===null&&na(e,n,a,As,s),f===c)break;c=f}c!==null&&a.stopPropagation()}else na(e,n,a,null,s)}}var As=null;function jl(e,n,s,a){if(As=null,e=Tl(a),e=Wn(e),e!==null)if(n=Bn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=od(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return As=e,null}function Sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kg()){case Ol:return 1;case fd:return 4;case xs:case Yg:return 16;case hd:return 536870912;default:return 16}default:return 16}}var yn=null,Ul=null,Ls=null;function kd(){if(Ls)return Ls;var e,n=Ul,s=n.length,a,c="value"in yn?yn.value:yn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var m=s-e;for(a=1;a<=m&&n[s-a]===c[f-a];a++);return Ls=c.slice(e,1<a?1-a:void 0)}function Ms(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function xd(){return!1}function yt(e){function n(s,a,c,f,m){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(s=e[y],this[y]=s?s(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fs:xd,this.isPropagationStopped=xd,this}return $(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),n}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=yt(_r),mi=$({},_r,{view:0,detail:0}),a_=yt(mi),Wl,$l,gi,bs=$({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(Wl=e.screenX-gi.screenX,$l=e.screenY-gi.screenY):$l=Wl=0,gi=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:$l}}),Id=yt(bs),u_=$({},bs,{dataTransfer:0}),c_=yt(u_),d_=$({},mi,{relatedTarget:0}),Hl=yt(d_),f_=$({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),h_=yt(f_),p_=$({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m_=yt(p_),g_=$({},_r,{data:0}),Td=yt(g_),__={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=v_[e])?!!n[e]:!1}function Vl(){return w_}var E_=$({},mi,{key:function(e){if(e.key){var n=__[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C_=yt(E_),S_=$({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=yt(S_),k_=$({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),x_=yt(k_),I_=$({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),T_=yt(I_),N_=$({},bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),R_=yt(N_),P_=[9,13,27,32],Gl=h&&"CompositionEvent"in window,_i=null;h&&"documentMode"in document&&(_i=document.documentMode);var D_=h&&"TextEvent"in window&&!_i,Rd=h&&(!Gl||_i&&8<_i&&11>=_i),Pd=" ",Dd=!1;function Od(e,n){switch(e){case"keyup":return P_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function O_(e,n){switch(e){case"compositionend":return Ad(n);case"keypress":return n.which!==32?null:(Dd=!0,Pd);case"textInput":return e=n.data,e===Pd&&Dd?null:e;default:return null}}function A_(e,n){if(yr)return e==="compositionend"||!Gl&&Od(e,n)?(e=kd(),Ls=Ul=yn=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rd&&n.locale!=="ko"?null:n.data;default:return null}}var L_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!L_[e.type]:n==="textarea"}function Md(e,n,s,a){td(a),n=Ws(n,"onChange"),0<n.length&&(s=new Bl("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var yi=null,vi=null;function M_(e){Zd(e,0)}function zs(e){var n=Sr(e);if($c(n))return e}function F_(e,n){if(e==="change")return n}var Fd=!1;if(h){var Ql;if(h){var Kl="oninput"in document;if(!Kl){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Kl=typeof bd.oninput=="function"}Ql=Kl}else Ql=!1;Fd=Ql&&(!document.documentMode||9<document.documentMode)}function zd(){yi&&(yi.detachEvent("onpropertychange",jd),vi=yi=null)}function jd(e){if(e.propertyName==="value"&&zs(vi)){var n=[];Md(n,vi,e,Tl(e)),sd(M_,n)}}function b_(e,n,s){e==="focusin"?(zd(),yi=n,vi=s,yi.attachEvent("onpropertychange",jd)):e==="focusout"&&zd()}function z_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zs(vi)}function j_(e,n){if(e==="click")return zs(n)}function U_(e,n){if(e==="input"||e==="change")return zs(n)}function B_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:B_;function wi(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!p.call(n,c)||!At(e[c],n[c]))return!1}return!0}function Ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bd(e,n){var s=Ud(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ud(s)}}function Wd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Wd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $d(){for(var e=window,n=Es();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Es(e.document)}return n}function Yl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function W_(e){var n=$d(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Wd(s.ownerDocument.documentElement,s)){if(a!==null&&Yl(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=Bd(s,f);var m=Bd(s,a);c&&m&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(m.node,m.offset)):(n.setEnd(m.node,m.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $_=h&&"documentMode"in document&&11>=document.documentMode,vr=null,ql=null,Ei=null,Xl=!1;function Hd(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xl||vr==null||vr!==Es(a)||(a=vr,"selectionStart"in a&&Yl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ei&&wi(Ei,a)||(Ei=a,a=Ws(ql,"onSelect"),0<a.length&&(n=new Bl("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=vr)))}function js(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var wr={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},Jl={},Vd={};h&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Us(e){if(Jl[e])return Jl[e];if(!wr[e])return e;var n=wr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Vd)return Jl[e]=n[s];return e}var Gd=Us("animationend"),Qd=Us("animationiteration"),Kd=Us("animationstart"),Yd=Us("transitionend"),qd=new Map,Xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,n){qd.set(e,n),u(n,[e])}for(var Zl=0;Zl<Xd.length;Zl++){var ea=Xd[Zl],H_=ea.toLowerCase(),V_=ea[0].toUpperCase()+ea.slice(1);vn(H_,"on"+V_)}vn(Gd,"onAnimationEnd"),vn(Qd,"onAnimationIteration"),vn(Kd,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(Yd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function Jd(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,Hg(a,n,void 0,e),e.currentTarget=null}function Zd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var m=a.length-1;0<=m;m--){var y=a[m],C=y.instance,T=y.currentTarget;if(y=y.listener,C!==f&&c.isPropagationStopped())break e;Jd(c,y,T),f=C}else for(m=0;m<a.length;m++){if(y=a[m],C=y.instance,T=y.currentTarget,y=y.listener,C!==f&&c.isPropagationStopped())break e;Jd(c,y,T),f=C}}}if(ks)throw e=Dl,ks=!1,Dl=null,e}function Se(e,n){var s=n[aa];s===void 0&&(s=n[aa]=new Set);var a=e+"__bubble";s.has(a)||(ef(n,e,2,!1),s.add(a))}function ta(e,n,s){var a=0;n&&(a|=4),ef(s,e,a,n)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Si(e){if(!e[Bs]){e[Bs]=!0,o.forEach(function(s){s!=="selectionchange"&&(G_.has(s)||ta(s,!1,e),ta(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bs]||(n[Bs]=!0,ta("selectionchange",!1,n))}}function ef(e,n,s,a){switch(Sd(n)){case 1:var c=o_;break;case 4:c=l_;break;default:c=zl}s=c.bind(null,n,s,e),c=void 0,!Pl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function na(e,n,s,a,c){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var y=a.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var C=m.tag;if((C===3||C===4)&&(C=m.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;m=m.return}for(;y!==null;){if(m=Wn(y),m===null)return;if(C=m.tag,C===5||C===6){a=f=m;continue e}y=y.parentNode}}a=a.return}sd(function(){var T=f,L=Tl(s),M=[];e:{var A=qd.get(e);if(A!==void 0){var W=Bl,V=e;switch(e){case"keypress":if(Ms(s)===0)break e;case"keydown":case"keyup":W=C_;break;case"focusin":V="focus",W=Hl;break;case"focusout":V="blur",W=Hl;break;case"beforeblur":case"afterblur":W=Hl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=c_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x_;break;case Gd:case Qd:case Kd:W=h_;break;case Yd:W=T_;break;case"scroll":W=a_;break;case"wheel":W=R_;break;case"copy":case"cut":case"paste":W=m_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Nd}var Q=(n&4)!==0,be=!Q&&e==="scroll",k=Q?A!==null?A+"Capture":null:A;Q=[];for(var S=T,I;S!==null;){I=S;var F=I.stateNode;if(I.tag===5&&F!==null&&(I=F,k!==null&&(F=si(S,k),F!=null&&Q.push(ki(S,F,I)))),be)break;S=S.return}0<Q.length&&(A=new W(A,V,null,s,L),M.push({event:A,listeners:Q}))}}if(!(n&7)){e:{if(A=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",A&&s!==Il&&(V=s.relatedTarget||s.fromElement)&&(Wn(V)||V[Zt]))break e;if((W||A)&&(A=L.window===L?L:(A=L.ownerDocument)?A.defaultView||A.parentWindow:window,W?(V=s.relatedTarget||s.toElement,W=T,V=V?Wn(V):null,V!==null&&(be=Bn(V),V!==be||V.tag!==5&&V.tag!==6)&&(V=null)):(W=null,V=T),W!==V)){if(Q=Id,F="onMouseLeave",k="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Nd,F="onPointerLeave",k="onPointerEnter",S="pointer"),be=W==null?A:Sr(W),I=V==null?A:Sr(V),A=new Q(F,S+"leave",W,s,L),A.target=be,A.relatedTarget=I,F=null,Wn(L)===T&&(Q=new Q(k,S+"enter",V,s,L),Q.target=I,Q.relatedTarget=be,F=Q),be=F,W&&V)t:{for(Q=W,k=V,S=0,I=Q;I;I=Er(I))S++;for(I=0,F=k;F;F=Er(F))I++;for(;0<S-I;)Q=Er(Q),S--;for(;0<I-S;)k=Er(k),I--;for(;S--;){if(Q===k||k!==null&&Q===k.alternate)break t;Q=Er(Q),k=Er(k)}Q=null}else Q=null;W!==null&&tf(M,A,W,Q,!1),V!==null&&be!==null&&tf(M,be,V,Q,!0)}}e:{if(A=T?Sr(T):window,W=A.nodeName&&A.nodeName.toLowerCase(),W==="select"||W==="input"&&A.type==="file")var K=F_;else if(Ld(A))if(Fd)K=U_;else{K=z_;var Y=b_}else(W=A.nodeName)&&W.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(K=j_);if(K&&(K=K(e,T))){Md(M,K,s,L);break e}Y&&Y(e,A,T),e==="focusout"&&(Y=A._wrapperState)&&Y.controlled&&A.type==="number"&&El(A,"number",A.value)}switch(Y=T?Sr(T):window,e){case"focusin":(Ld(Y)||Y.contentEditable==="true")&&(vr=Y,ql=T,Ei=null);break;case"focusout":Ei=ql=vr=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,Hd(M,s,L);break;case"selectionchange":if($_)break;case"keydown":case"keyup":Hd(M,s,L)}var q;if(Gl)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else yr?Od(e,s)&&(ne="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ne="onCompositionStart");ne&&(Rd&&s.locale!=="ko"&&(yr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&yr&&(q=kd()):(yn=L,Ul="value"in yn?yn.value:yn.textContent,yr=!0)),Y=Ws(T,ne),0<Y.length&&(ne=new Td(ne,e,null,s,L),M.push({event:ne,listeners:Y}),q?ne.data=q:(q=Ad(s),q!==null&&(ne.data=q)))),(q=D_?O_(e,s):A_(e,s))&&(T=Ws(T,"onBeforeInput"),0<T.length&&(L=new Td("onBeforeInput","beforeinput",null,s,L),M.push({event:L,listeners:T}),L.data=q))}Zd(M,n)})}function ki(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ws(e,n){for(var s=n+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=si(e,s),f!=null&&a.unshift(ki(e,f,c)),f=si(e,n),f!=null&&a.push(ki(e,f,c))),e=e.return}return a}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tf(e,n,s,a,c){for(var f=n._reactName,m=[];s!==null&&s!==a;){var y=s,C=y.alternate,T=y.stateNode;if(C!==null&&C===a)break;y.tag===5&&T!==null&&(y=T,c?(C=si(s,f),C!=null&&m.unshift(ki(s,C,y))):c||(C=si(s,f),C!=null&&m.push(ki(s,C,y)))),s=s.return}m.length!==0&&e.push({event:n,listeners:m})}var Q_=/\r\n?/g,K_=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(Q_,`
`).replace(K_,"")}function $s(e,n,s){if(n=nf(n),nf(e)!==n&&s)throw Error(r(425))}function Hs(){}var ra=null,ia=null;function sa(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var oa=typeof setTimeout=="function"?setTimeout:void 0,Y_=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(e){return rf.resolve(null).then(e).catch(X_)}:oa;function X_(e){setTimeout(function(){throw e})}function la(e,n){var s=n,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),pi(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);pi(n)}function wn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function sf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),$t="__reactFiber$"+Cr,xi="__reactProps$"+Cr,Zt="__reactContainer$"+Cr,aa="__reactEvents$"+Cr,J_="__reactListeners$"+Cr,Z_="__reactHandles$"+Cr;function Wn(e){var n=e[$t];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Zt]||s[$t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=sf(e);e!==null;){if(s=e[$t])return s;e=sf(e)}return n}e=s,s=e.parentNode}return null}function Ii(e){return e=e[$t]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Vs(e){return e[xi]||null}var ua=[],kr=-1;function En(e){return{current:e}}function ke(e){0>kr||(e.current=ua[kr],ua[kr]=null,kr--)}function _e(e,n){kr++,ua[kr]=e.current,e.current=n}var Cn={},et=En(Cn),at=En(!1),$n=Cn;function xr(e,n){var s=e.type.contextTypes;if(!s)return Cn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in s)c[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function ut(e){return e=e.childContextTypes,e!=null}function Gs(){ke(at),ke(et)}function of(e,n,s){if(et.current!==Cn)throw Error(r(168));_e(et,n),_e(at,s)}function lf(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(r(108,me(e)||"Unknown",c));return $({},s,a)}function Qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,$n=et.current,_e(et,e),_e(at,at.current),!0}function af(e,n,s){var a=e.stateNode;if(!a)throw Error(r(169));s?(e=lf(e,n,$n),a.__reactInternalMemoizedMergedChildContext=e,ke(at),ke(et),_e(et,e)):ke(at),_e(at,s)}var en=null,Ks=!1,ca=!1;function uf(e){en===null?en=[e]:en.push(e)}function ey(e){Ks=!0,uf(e)}function Sn(){if(!ca&&en!==null){ca=!0;var e=0,n=pe;try{var s=en;for(pe=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}en=null,Ks=!1}catch(c){throw en!==null&&(en=en.slice(e+1)),cd(Ol,Sn),c}finally{pe=n,ca=!1}}return null}var Ir=[],Tr=0,Ys=null,qs=0,xt=[],It=0,Hn=null,tn=1,nn="";function Vn(e,n){Ir[Tr++]=qs,Ir[Tr++]=Ys,Ys=e,qs=n}function cf(e,n,s){xt[It++]=tn,xt[It++]=nn,xt[It++]=Hn,Hn=e;var a=tn;e=nn;var c=32-Ot(a)-1;a&=~(1<<c),s+=1;var f=32-Ot(n)+c;if(30<f){var m=c-c%5;f=(a&(1<<m)-1).toString(32),a>>=m,c-=m,tn=1<<32-Ot(n)+c|s<<c|a,nn=f+e}else tn=1<<f|s<<c|a,nn=e}function da(e){e.return!==null&&(Vn(e,1),cf(e,1,0))}function fa(e){for(;e===Ys;)Ys=Ir[--Tr],Ir[Tr]=null,qs=Ir[--Tr],Ir[Tr]=null;for(;e===Hn;)Hn=xt[--It],xt[It]=null,nn=xt[--It],xt[It]=null,tn=xt[--It],xt[It]=null}var vt=null,wt=null,Ne=!1,Lt=null;function df(e,n){var s=Pt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function ff(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,vt=e,wt=wn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,vt=e,wt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Hn!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Pt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,vt=e,wt=null,!0):!1;default:return!1}}function ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pa(e){if(Ne){var n=wt;if(n){var s=n;if(!ff(e,n)){if(ha(e))throw Error(r(418));n=wn(s.nextSibling);var a=vt;n&&ff(e,n)?df(a,s):(e.flags=e.flags&-4097|2,Ne=!1,vt=e)}}else{if(ha(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ne=!1,vt=e}}}function hf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Xs(e){if(e!==vt)return!1;if(!Ne)return hf(e),Ne=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!sa(e.type,e.memoizedProps)),n&&(n=wt)){if(ha(e))throw pf(),Error(r(418));for(;n;)df(e,n),n=wn(n.nextSibling)}if(hf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){wt=wn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}wt=null}}else wt=vt?wn(e.stateNode.nextSibling):null;return!0}function pf(){for(var e=wt;e;)e=wn(e.nextSibling)}function Nr(){wt=vt=null,Ne=!1}function ma(e){Lt===null?Lt=[e]:Lt.push(e)}var ty=re.ReactCurrentBatchConfig;function Ti(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var a=s.stateNode}if(!a)throw Error(r(147,e));var c=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(m){var y=c.refs;m===null?delete y[f]:y[f]=m},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Js(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function mf(e){var n=e._init;return n(e._payload)}function gf(e){function n(k,S){if(e){var I=k.deletions;I===null?(k.deletions=[S],k.flags|=16):I.push(S)}}function s(k,S){if(!e)return null;for(;S!==null;)n(k,S),S=S.sibling;return null}function a(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function c(k,S){return k=Dn(k,S),k.index=0,k.sibling=null,k}function f(k,S,I){return k.index=I,e?(I=k.alternate,I!==null?(I=I.index,I<S?(k.flags|=2,S):I):(k.flags|=2,S)):(k.flags|=1048576,S)}function m(k){return e&&k.alternate===null&&(k.flags|=2),k}function y(k,S,I,F){return S===null||S.tag!==6?(S=ou(I,k.mode,F),S.return=k,S):(S=c(S,I),S.return=k,S)}function C(k,S,I,F){var K=I.type;return K===Ce?L(k,S,I.props.children,F,I.key):S!==null&&(S.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ze&&mf(K)===S.type)?(F=c(S,I.props),F.ref=Ti(k,S,I),F.return=k,F):(F=So(I.type,I.key,I.props,null,k.mode,F),F.ref=Ti(k,S,I),F.return=k,F)}function T(k,S,I,F){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=lu(I,k.mode,F),S.return=k,S):(S=c(S,I.children||[]),S.return=k,S)}function L(k,S,I,F,K){return S===null||S.tag!==7?(S=Zn(I,k.mode,F,K),S.return=k,S):(S=c(S,I),S.return=k,S)}function M(k,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=ou(""+S,k.mode,I),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case de:return I=So(S.type,S.key,S.props,null,k.mode,I),I.ref=Ti(k,null,S),I.return=k,I;case Ee:return S=lu(S,k.mode,I),S.return=k,S;case Ze:var F=S._init;return M(k,F(S._payload),I)}if(ni(S)||X(S))return S=Zn(S,k.mode,I,null),S.return=k,S;Js(k,S)}return null}function A(k,S,I,F){var K=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return K!==null?null:y(k,S,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case de:return I.key===K?C(k,S,I,F):null;case Ee:return I.key===K?T(k,S,I,F):null;case Ze:return K=I._init,A(k,S,K(I._payload),F)}if(ni(I)||X(I))return K!==null?null:L(k,S,I,F,null);Js(k,I)}return null}function W(k,S,I,F,K){if(typeof F=="string"&&F!==""||typeof F=="number")return k=k.get(I)||null,y(S,k,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case de:return k=k.get(F.key===null?I:F.key)||null,C(S,k,F,K);case Ee:return k=k.get(F.key===null?I:F.key)||null,T(S,k,F,K);case Ze:var Y=F._init;return W(k,S,I,Y(F._payload),K)}if(ni(F)||X(F))return k=k.get(I)||null,L(S,k,F,K,null);Js(S,F)}return null}function V(k,S,I,F){for(var K=null,Y=null,q=S,ne=S=0,He=null;q!==null&&ne<I.length;ne++){q.index>ne?(He=q,q=null):He=q.sibling;var ce=A(k,q,I[ne],F);if(ce===null){q===null&&(q=He);break}e&&q&&ce.alternate===null&&n(k,q),S=f(ce,S,ne),Y===null?K=ce:Y.sibling=ce,Y=ce,q=He}if(ne===I.length)return s(k,q),Ne&&Vn(k,ne),K;if(q===null){for(;ne<I.length;ne++)q=M(k,I[ne],F),q!==null&&(S=f(q,S,ne),Y===null?K=q:Y.sibling=q,Y=q);return Ne&&Vn(k,ne),K}for(q=a(k,q);ne<I.length;ne++)He=W(q,k,ne,I[ne],F),He!==null&&(e&&He.alternate!==null&&q.delete(He.key===null?ne:He.key),S=f(He,S,ne),Y===null?K=He:Y.sibling=He,Y=He);return e&&q.forEach(function(On){return n(k,On)}),Ne&&Vn(k,ne),K}function Q(k,S,I,F){var K=X(I);if(typeof K!="function")throw Error(r(150));if(I=K.call(I),I==null)throw Error(r(151));for(var Y=K=null,q=S,ne=S=0,He=null,ce=I.next();q!==null&&!ce.done;ne++,ce=I.next()){q.index>ne?(He=q,q=null):He=q.sibling;var On=A(k,q,ce.value,F);if(On===null){q===null&&(q=He);break}e&&q&&On.alternate===null&&n(k,q),S=f(On,S,ne),Y===null?K=On:Y.sibling=On,Y=On,q=He}if(ce.done)return s(k,q),Ne&&Vn(k,ne),K;if(q===null){for(;!ce.done;ne++,ce=I.next())ce=M(k,ce.value,F),ce!==null&&(S=f(ce,S,ne),Y===null?K=ce:Y.sibling=ce,Y=ce);return Ne&&Vn(k,ne),K}for(q=a(k,q);!ce.done;ne++,ce=I.next())ce=W(q,k,ne,ce.value,F),ce!==null&&(e&&ce.alternate!==null&&q.delete(ce.key===null?ne:ce.key),S=f(ce,S,ne),Y===null?K=ce:Y.sibling=ce,Y=ce);return e&&q.forEach(function(Ay){return n(k,Ay)}),Ne&&Vn(k,ne),K}function be(k,S,I,F){if(typeof I=="object"&&I!==null&&I.type===Ce&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case de:e:{for(var K=I.key,Y=S;Y!==null;){if(Y.key===K){if(K=I.type,K===Ce){if(Y.tag===7){s(k,Y.sibling),S=c(Y,I.props.children),S.return=k,k=S;break e}}else if(Y.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ze&&mf(K)===Y.type){s(k,Y.sibling),S=c(Y,I.props),S.ref=Ti(k,Y,I),S.return=k,k=S;break e}s(k,Y);break}else n(k,Y);Y=Y.sibling}I.type===Ce?(S=Zn(I.props.children,k.mode,F,I.key),S.return=k,k=S):(F=So(I.type,I.key,I.props,null,k.mode,F),F.ref=Ti(k,S,I),F.return=k,k=F)}return m(k);case Ee:e:{for(Y=I.key;S!==null;){if(S.key===Y)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){s(k,S.sibling),S=c(S,I.children||[]),S.return=k,k=S;break e}else{s(k,S);break}else n(k,S);S=S.sibling}S=lu(I,k.mode,F),S.return=k,k=S}return m(k);case Ze:return Y=I._init,be(k,S,Y(I._payload),F)}if(ni(I))return V(k,S,I,F);if(X(I))return Q(k,S,I,F);Js(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(s(k,S.sibling),S=c(S,I),S.return=k,k=S):(s(k,S),S=ou(I,k.mode,F),S.return=k,k=S),m(k)):s(k,S)}return be}var Rr=gf(!0),_f=gf(!1),Zs=En(null),eo=null,Pr=null,ga=null;function _a(){ga=Pr=eo=null}function ya(e){var n=Zs.current;ke(Zs),e._currentValue=n}function va(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function Dr(e,n){eo=e,ga=Pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ct=!0),e.firstContext=null)}function Tt(e){var n=e._currentValue;if(ga!==e)if(e={context:e,memoizedValue:n,next:null},Pr===null){if(eo===null)throw Error(r(308));Pr=e,eo.dependencies={lanes:0,firstContext:e}}else Pr=Pr.next=e;return n}var Gn=null;function wa(e){Gn===null?Gn=[e]:Gn.push(e)}function yf(e,n,s,a){var c=n.interleaved;return c===null?(s.next=s,wa(n)):(s.next=c.next,c.next=s),n.interleaved=s,rn(e,a)}function rn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var kn=!1;function Ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function xn(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ue&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,rn(e,s)}return c=a.interleaved,c===null?(n.next=n,wa(a)):(n.next=c.next,c.next=n),a.interleaved=n,rn(e,s)}function to(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Ml(e,s)}}function wf(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?c=f=m:f=f.next=m,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function no(e,n,s,a){var c=e.updateQueue;kn=!1;var f=c.firstBaseUpdate,m=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var C=y,T=C.next;C.next=null,m===null?f=T:m.next=T,m=C;var L=e.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==m&&(y===null?L.firstBaseUpdate=T:y.next=T,L.lastBaseUpdate=C))}if(f!==null){var M=c.baseState;m=0,L=T=C=null,y=f;do{var A=y.lane,W=y.eventTime;if((a&A)===A){L!==null&&(L=L.next={eventTime:W,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var V=e,Q=y;switch(A=n,W=s,Q.tag){case 1:if(V=Q.payload,typeof V=="function"){M=V.call(W,M,A);break e}M=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=Q.payload,A=typeof V=="function"?V.call(W,M,A):V,A==null)break e;M=$({},M,A);break e;case 2:kn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,A=c.effects,A===null?c.effects=[y]:A.push(y))}else W={eventTime:W,lane:A,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(T=L=W,C=M):L=L.next=W,m|=A;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;A=y,y=A.next,A.next=null,c.lastBaseUpdate=A,c.shared.pending=null}}while(!0);if(L===null&&(C=M),c.baseState=C,c.firstBaseUpdate=T,c.lastBaseUpdate=L,n=c.shared.interleaved,n!==null){c=n;do m|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);Yn|=m,e.lanes=m,e.memoizedState=M}}function Ef(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(r(191,c));c.call(a)}}}var Ni={},Ht=En(Ni),Ri=En(Ni),Pi=En(Ni);function Qn(e){if(e===Ni)throw Error(r(174));return e}function Ca(e,n){switch(_e(Pi,n),_e(Ri,e),_e(Ht,Ni),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Sl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Sl(n,e)}ke(Ht),_e(Ht,n)}function Or(){ke(Ht),ke(Ri),ke(Pi)}function Cf(e){Qn(Pi.current);var n=Qn(Ht.current),s=Sl(n,e.type);n!==s&&(_e(Ri,e),_e(Ht,s))}function Sa(e){Ri.current===e&&(ke(Ht),ke(Ri))}var Re=En(0);function ro(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ka=[];function xa(){for(var e=0;e<ka.length;e++)ka[e]._workInProgressVersionPrimary=null;ka.length=0}var io=re.ReactCurrentDispatcher,Ia=re.ReactCurrentBatchConfig,Kn=0,Pe=null,Ue=null,We=null,so=!1,Di=!1,Oi=0,ny=0;function tt(){throw Error(r(321))}function Ta(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!At(e[s],n[s]))return!1;return!0}function Na(e,n,s,a,c,f){if(Kn=f,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,io.current=e===null||e.memoizedState===null?oy:ly,e=s(a,c),Di){f=0;do{if(Di=!1,Oi=0,25<=f)throw Error(r(301));f+=1,We=Ue=null,n.updateQueue=null,io.current=ay,e=s(a,c)}while(Di)}if(io.current=ao,n=Ue!==null&&Ue.next!==null,Kn=0,We=Ue=Pe=null,so=!1,n)throw Error(r(300));return e}function Ra(){var e=Oi!==0;return Oi=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function Nt(){if(Ue===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=We===null?Pe.memoizedState:We.next;if(n!==null)We=n,Ue=e;else{if(e===null)throw Error(r(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function Ai(e,n){return typeof n=="function"?n(e):n}function Pa(e){var n=Nt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=Ue,c=a.baseQueue,f=s.pending;if(f!==null){if(c!==null){var m=c.next;c.next=f.next,f.next=m}a.baseQueue=c=f,s.pending=null}if(c!==null){f=c.next,a=a.baseState;var y=m=null,C=null,T=f;do{var L=T.lane;if((Kn&L)===L)C!==null&&(C=C.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),a=T.hasEagerState?T.eagerState:e(a,T.action);else{var M={lane:L,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};C===null?(y=C=M,m=a):C=C.next=M,Pe.lanes|=L,Yn|=L}T=T.next}while(T!==null&&T!==f);C===null?m=a:C.next=y,At(a,n.memoizedState)||(ct=!0),n.memoizedState=a,n.baseState=m,n.baseQueue=C,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do f=c.lane,Pe.lanes|=f,Yn|=f,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Da(e){var n=Nt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do f=e(f,m.action),m=m.next;while(m!==c);At(f,n.memoizedState)||(ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,a]}function Sf(){}function kf(e,n){var s=Pe,a=Nt(),c=n(),f=!At(a.memoizedState,c);if(f&&(a.memoizedState=c,ct=!0),a=a.queue,Oa(Tf.bind(null,s,a,e),[e]),a.getSnapshot!==n||f||We!==null&&We.memoizedState.tag&1){if(s.flags|=2048,Li(9,If.bind(null,s,a,c,n),void 0,null),$e===null)throw Error(r(349));Kn&30||xf(s,n,c)}return c}function xf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Pe.updateQueue,n===null?(n={lastEffect:null,stores:null},Pe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function If(e,n,s,a){n.value=s,n.getSnapshot=a,Nf(n)&&Rf(e)}function Tf(e,n,s){return s(function(){Nf(n)&&Rf(e)})}function Nf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!At(e,s)}catch{return!0}}function Rf(e){var n=rn(e,1);n!==null&&zt(n,e,1,-1)}function Pf(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},n.queue=e,e=e.dispatch=sy.bind(null,Pe,e),[n.memoizedState,e]}function Li(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=Pe.updateQueue,n===null?(n={lastEffect:null,stores:null},Pe.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function Df(){return Nt().memoizedState}function oo(e,n,s,a){var c=Vt();Pe.flags|=e,c.memoizedState=Li(1|n,s,void 0,a===void 0?null:a)}function lo(e,n,s,a){var c=Nt();a=a===void 0?null:a;var f=void 0;if(Ue!==null){var m=Ue.memoizedState;if(f=m.destroy,a!==null&&Ta(a,m.deps)){c.memoizedState=Li(n,s,f,a);return}}Pe.flags|=e,c.memoizedState=Li(1|n,s,f,a)}function Of(e,n){return oo(8390656,8,e,n)}function Oa(e,n){return lo(2048,8,e,n)}function Af(e,n){return lo(4,2,e,n)}function Lf(e,n){return lo(4,4,e,n)}function Mf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ff(e,n,s){return s=s!=null?s.concat([e]):null,lo(4,4,Mf.bind(null,n,e),s)}function Aa(){}function bf(e,n){var s=Nt();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&Ta(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function zf(e,n){var s=Nt();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&Ta(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function jf(e,n,s){return Kn&21?(At(s,n)||(s=pd(),Pe.lanes|=s,Yn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=s)}function ry(e,n){var s=pe;pe=s!==0&&4>s?s:4,e(!0);var a=Ia.transition;Ia.transition={};try{e(!1),n()}finally{pe=s,Ia.transition=a}}function Uf(){return Nt().memoizedState}function iy(e,n,s){var a=Rn(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Bf(e))Wf(n,s);else if(s=yf(e,n,s,a),s!==null){var c=ot();zt(s,e,a,c),$f(s,n,a)}}function sy(e,n,s){var a=Rn(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bf(e))Wf(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var m=n.lastRenderedState,y=f(m,s);if(c.hasEagerState=!0,c.eagerState=y,At(y,m)){var C=n.interleaved;C===null?(c.next=c,wa(n)):(c.next=C.next,C.next=c),n.interleaved=c;return}}catch{}finally{}s=yf(e,n,c,a),s!==null&&(c=ot(),zt(s,e,a,c),$f(s,n,a))}}function Bf(e){var n=e.alternate;return e===Pe||n!==null&&n===Pe}function Wf(e,n){Di=so=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function $f(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Ml(e,s)}}var ao={readContext:Tt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},oy={readContext:Tt,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:Tt,useEffect:Of,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,oo(4194308,4,Mf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return oo(4194308,4,e,n)},useInsertionEffect:function(e,n){return oo(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Vt();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=iy.bind(null,Pe,e),[a.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:Pf,useDebugValue:Aa,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Pf(!1),n=e[0];return e=ry.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=Pe,c=Vt();if(Ne){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$e===null)throw Error(r(349));Kn&30||xf(a,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Of(Tf.bind(null,a,f,e),[e]),a.flags|=2048,Li(9,If.bind(null,a,f,s,n),void 0,null),s},useId:function(){var e=Vt(),n=$e.identifierPrefix;if(Ne){var s=nn,a=tn;s=(a&~(1<<32-Ot(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=Oi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=ny++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ly={readContext:Tt,useCallback:bf,useContext:Tt,useEffect:Oa,useImperativeHandle:Ff,useInsertionEffect:Af,useLayoutEffect:Lf,useMemo:zf,useReducer:Pa,useRef:Df,useState:function(){return Pa(Ai)},useDebugValue:Aa,useDeferredValue:function(e){var n=Nt();return jf(n,Ue.memoizedState,e)},useTransition:function(){var e=Pa(Ai)[0],n=Nt().memoizedState;return[e,n]},useMutableSource:Sf,useSyncExternalStore:kf,useId:Uf,unstable_isNewReconciler:!1},ay={readContext:Tt,useCallback:bf,useContext:Tt,useEffect:Oa,useImperativeHandle:Ff,useInsertionEffect:Af,useLayoutEffect:Lf,useMemo:zf,useReducer:Da,useRef:Df,useState:function(){return Da(Ai)},useDebugValue:Aa,useDeferredValue:function(e){var n=Nt();return Ue===null?n.memoizedState=e:jf(n,Ue.memoizedState,e)},useTransition:function(){var e=Da(Ai)[0],n=Nt().memoizedState;return[e,n]},useMutableSource:Sf,useSyncExternalStore:kf,useId:Uf,unstable_isNewReconciler:!1};function Mt(e,n){if(e&&e.defaultProps){n=$({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function La(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:$({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var uo={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=ot(),c=Rn(e),f=sn(a,c);f.payload=n,s!=null&&(f.callback=s),n=xn(e,f,c),n!==null&&(zt(n,e,c,a),to(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=ot(),c=Rn(e),f=sn(a,c);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=xn(e,f,c),n!==null&&(zt(n,e,c,a),to(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=ot(),a=Rn(e),c=sn(s,a);c.tag=2,n!=null&&(c.callback=n),n=xn(e,c,a),n!==null&&(zt(n,e,a,s),to(n,e,a))}};function Hf(e,n,s,a,c,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,m):n.prototype&&n.prototype.isPureReactComponent?!wi(s,a)||!wi(c,f):!0}function Vf(e,n,s){var a=!1,c=Cn,f=n.contextType;return typeof f=="object"&&f!==null?f=Tt(f):(c=ut(n)?$n:et.current,a=n.contextTypes,f=(a=a!=null)?xr(e,c):Cn),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=uo,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function Gf(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&uo.enqueueReplaceState(n,n.state,null)}function Ma(e,n,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Ea(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=Tt(f):(f=ut(n)?$n:et.current,c.context=xr(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(La(e,n,f,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&uo.enqueueReplaceState(c,c.state,null),no(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Ar(e,n){try{var s="",a=n;do s+=te(a),a=a.return;while(a);var c=s}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function Fa(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function ba(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var uy=typeof WeakMap=="function"?WeakMap:Map;function Qf(e,n,s){s=sn(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){_o||(_o=!0,Ja=a),ba(e,n)},s}function Kf(e,n,s){s=sn(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;s.payload=function(){return a(c)},s.callback=function(){ba(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){ba(e,n),typeof a!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var m=n.stack;this.componentDidCatch(n.value,{componentStack:m!==null?m:""})}),s}function Yf(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new uy;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(s)||(c.add(s),e=Sy.bind(null,e,n,s),n.then(e,e))}function qf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Xf(e,n,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=sn(-1,1),n.tag=2,xn(s,n,1))),s.lanes|=1),e)}var cy=re.ReactCurrentOwner,ct=!1;function st(e,n,s,a){n.child=e===null?_f(n,null,s,a):Rr(n,e.child,s,a)}function Jf(e,n,s,a,c){s=s.render;var f=n.ref;return Dr(n,c),a=Na(e,n,s,a,f,c),s=Ra(),e!==null&&!ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,on(e,n,c)):(Ne&&s&&da(n),n.flags|=1,st(e,n,a,c),n.child)}function Zf(e,n,s,a,c){if(e===null){var f=s.type;return typeof f=="function"&&!su(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,eh(e,n,f,a,c)):(e=So(s.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var m=f.memoizedProps;if(s=s.compare,s=s!==null?s:wi,s(m,a)&&e.ref===n.ref)return on(e,n,c)}return n.flags|=1,e=Dn(f,a),e.ref=n.ref,e.return=n,n.child=e}function eh(e,n,s,a,c){if(e!==null){var f=e.memoizedProps;if(wi(f,a)&&e.ref===n.ref)if(ct=!1,n.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(ct=!0);else return n.lanes=e.lanes,on(e,n,c)}return za(e,n,s,a,c)}function th(e,n,s){var a=n.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Mr,Et),Et|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,_e(Mr,Et),Et|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:s,_e(Mr,Et),Et|=a}else f!==null?(a=f.baseLanes|s,n.memoizedState=null):a=s,_e(Mr,Et),Et|=a;return st(e,n,c,s),n.child}function nh(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function za(e,n,s,a,c){var f=ut(s)?$n:et.current;return f=xr(n,f),Dr(n,c),s=Na(e,n,s,a,f,c),a=Ra(),e!==null&&!ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,on(e,n,c)):(Ne&&a&&da(n),n.flags|=1,st(e,n,s,c),n.child)}function rh(e,n,s,a,c){if(ut(s)){var f=!0;Qs(n)}else f=!1;if(Dr(n,c),n.stateNode===null)fo(e,n),Vf(n,s,a),Ma(n,s,a,c),a=!0;else if(e===null){var m=n.stateNode,y=n.memoizedProps;m.props=y;var C=m.context,T=s.contextType;typeof T=="object"&&T!==null?T=Tt(T):(T=ut(s)?$n:et.current,T=xr(n,T));var L=s.getDerivedStateFromProps,M=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function";M||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==a||C!==T)&&Gf(n,m,a,T),kn=!1;var A=n.memoizedState;m.state=A,no(n,a,m,c),C=n.memoizedState,y!==a||A!==C||at.current||kn?(typeof L=="function"&&(La(n,s,L,a),C=n.memoizedState),(y=kn||Hf(n,s,y,a,A,C,T))?(M||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=C),m.props=a,m.state=C,m.context=T,a=y):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{m=n.stateNode,vf(e,n),y=n.memoizedProps,T=n.type===n.elementType?y:Mt(n.type,y),m.props=T,M=n.pendingProps,A=m.context,C=s.contextType,typeof C=="object"&&C!==null?C=Tt(C):(C=ut(s)?$n:et.current,C=xr(n,C));var W=s.getDerivedStateFromProps;(L=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==M||A!==C)&&Gf(n,m,a,C),kn=!1,A=n.memoizedState,m.state=A,no(n,a,m,c);var V=n.memoizedState;y!==M||A!==V||at.current||kn?(typeof W=="function"&&(La(n,s,W,a),V=n.memoizedState),(T=kn||Hf(n,s,T,a,A,V,C)||!1)?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,V,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,V,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=V),m.props=a,m.state=V,m.context=C,a=T):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),a=!1)}return ja(e,n,s,a,f,c)}function ja(e,n,s,a,c,f){nh(e,n);var m=(n.flags&128)!==0;if(!a&&!m)return c&&af(n,s,!1),on(e,n,f);a=n.stateNode,cy.current=n;var y=m&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&m?(n.child=Rr(n,e.child,null,f),n.child=Rr(n,null,y,f)):st(e,n,y,f),n.memoizedState=a.state,c&&af(n,s,!0),n.child}function ih(e){var n=e.stateNode;n.pendingContext?of(e,n.pendingContext,n.pendingContext!==n.context):n.context&&of(e,n.context,!1),Ca(e,n.containerInfo)}function sh(e,n,s,a,c){return Nr(),ma(c),n.flags|=256,st(e,n,s,a),n.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function oh(e,n,s){var a=n.pendingProps,c=Re.current,f=!1,m=(n.flags&128)!==0,y;if((y=m)||(y=e!==null&&e.memoizedState===null?!1:(c&2)!==0),y?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),_e(Re,c&1),e===null)return pa(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(m=a.children,e=a.fallback,f?(a=n.mode,f=n.child,m={mode:"hidden",children:m},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=m):f=ko(m,a,0,null),e=Zn(e,a,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Ba(s),n.memoizedState=Ua,e):Wa(n,m));if(c=e.memoizedState,c!==null&&(y=c.dehydrated,y!==null))return dy(e,n,m,a,y,c,s);if(f){f=a.fallback,m=n.mode,c=e.child,y=c.sibling;var C={mode:"hidden",children:a.children};return!(m&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=C,n.deletions=null):(a=Dn(c,C),a.subtreeFlags=c.subtreeFlags&14680064),y!==null?f=Dn(y,f):(f=Zn(f,m,s,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,m=e.child.memoizedState,m=m===null?Ba(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=e.childLanes&~s,n.memoizedState=Ua,a}return f=e.child,e=f.sibling,a=Dn(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function Wa(e,n){return n=ko({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function co(e,n,s,a){return a!==null&&ma(a),Rr(n,e.child,null,s),e=Wa(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dy(e,n,s,a,c,f,m){if(s)return n.flags&256?(n.flags&=-257,a=Fa(Error(r(422))),co(e,n,m,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,c=n.mode,a=ko({mode:"visible",children:a.children},c,0,null),f=Zn(f,c,m,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&Rr(n,e.child,null,m),n.child.memoizedState=Ba(m),n.memoizedState=Ua,f);if(!(n.mode&1))return co(e,n,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var y=a.dgst;return a=y,f=Error(r(419)),a=Fa(f,a,void 0),co(e,n,m,a)}if(y=(m&e.childLanes)!==0,ct||y){if(a=$e,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|m)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,rn(e,c),zt(a,e,c,-1))}return iu(),a=Fa(Error(r(421))),co(e,n,m,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=ky.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,wt=wn(c.nextSibling),vt=n,Ne=!0,Lt=null,e!==null&&(xt[It++]=tn,xt[It++]=nn,xt[It++]=Hn,tn=e.id,nn=e.overflow,Hn=n),n=Wa(n,a.children),n.flags|=4096,n)}function lh(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),va(e.return,n,s)}function $a(e,n,s,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=s,f.tailMode=c)}function ah(e,n,s){var a=n.pendingProps,c=a.revealOrder,f=a.tail;if(st(e,n,a.children,s),a=Re.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lh(e,s,n);else if(e.tag===19)lh(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_e(Re,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&ro(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),$a(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ro(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}$a(n,!0,s,null,f);break;case"together":$a(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function fo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function on(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Yn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Dn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Dn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function fy(e,n,s){switch(n.tag){case 3:ih(n),Nr();break;case 5:Cf(n);break;case 1:ut(n.type)&&Qs(n);break;case 4:Ca(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;_e(Zs,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(_e(Re,Re.current&1),n.flags|=128,null):s&n.child.childLanes?oh(e,n,s):(_e(Re,Re.current&1),e=on(e,n,s),e!==null?e.sibling:null);_e(Re,Re.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return ah(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),_e(Re,Re.current),a)break;return null;case 22:case 23:return n.lanes=0,th(e,n,s)}return on(e,n,s)}var uh,Ha,ch,dh;uh=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ha=function(){},ch=function(e,n,s,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Qn(Ht.current);var f=null;switch(s){case"input":c=vl(e,c),a=vl(e,a),f=[];break;case"select":c=$({},c,{value:void 0}),a=$({},a,{value:void 0}),f=[];break;case"textarea":c=Cl(e,c),a=Cl(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Hs)}kl(s,a);var m;s=null;for(T in c)if(!a.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var y=c[T];for(m in y)y.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in a){var C=a[T];if(y=c!=null?c[T]:void 0,a.hasOwnProperty(T)&&C!==y&&(C!=null||y!=null))if(T==="style")if(y){for(m in y)!y.hasOwnProperty(m)||C&&C.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in C)C.hasOwnProperty(m)&&y[m]!==C[m]&&(s||(s={}),s[m]=C[m])}else s||(f||(f=[]),f.push(T,s)),s=C;else T==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,y=y?y.__html:void 0,C!=null&&y!==C&&(f=f||[]).push(T,C)):T==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(T,""+C):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(C!=null&&T==="onScroll"&&Se("scroll",e),f||y===C||(f=[])):(f=f||[]).push(T,C))}s&&(f=f||[]).push("style",s);var T=f;(n.updateQueue=T)&&(n.flags|=4)}},dh=function(e,n,s,a){s!==a&&(n.flags|=4)};function Mi(e,n){if(!Ne)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function hy(e,n,s){var a=n.pendingProps;switch(fa(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return ut(n.type)&&Gs(),nt(n),null;case 3:return a=n.stateNode,Or(),ke(at),ke(et),xa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Lt!==null&&(tu(Lt),Lt=null))),Ha(e,n),nt(n),null;case 5:Sa(n);var c=Qn(Pi.current);if(s=n.type,e!==null&&n.stateNode!=null)ch(e,n,s,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(r(166));return nt(n),null}if(e=Qn(Ht.current),Xs(n)){a=n.stateNode,s=n.type;var f=n.memoizedProps;switch(a[$t]=n,a[xi]=f,e=(n.mode&1)!==0,s){case"dialog":Se("cancel",a),Se("close",a);break;case"iframe":case"object":case"embed":Se("load",a);break;case"video":case"audio":for(c=0;c<Ci.length;c++)Se(Ci[c],a);break;case"source":Se("error",a);break;case"img":case"image":case"link":Se("error",a),Se("load",a);break;case"details":Se("toggle",a);break;case"input":Hc(a,f),Se("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Se("invalid",a);break;case"textarea":Qc(a,f),Se("invalid",a)}kl(s,f),c=null;for(var m in f)if(f.hasOwnProperty(m)){var y=f[m];m==="children"?typeof y=="string"?a.textContent!==y&&(f.suppressHydrationWarning!==!0&&$s(a.textContent,y,e),c=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&$s(a.textContent,y,e),c=["children",""+y]):l.hasOwnProperty(m)&&y!=null&&m==="onScroll"&&Se("scroll",a)}switch(s){case"input":ws(a),Gc(a,f,!0);break;case"textarea":ws(a),Yc(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=Hs)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(s,{is:a.is}):(e=m.createElement(s),s==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,s),e[$t]=n,e[xi]=a,uh(e,n,!1,!1),n.stateNode=e;e:{switch(m=xl(s,a),s){case"dialog":Se("cancel",e),Se("close",e),c=a;break;case"iframe":case"object":case"embed":Se("load",e),c=a;break;case"video":case"audio":for(c=0;c<Ci.length;c++)Se(Ci[c],e);c=a;break;case"source":Se("error",e),c=a;break;case"img":case"image":case"link":Se("error",e),Se("load",e),c=a;break;case"details":Se("toggle",e),c=a;break;case"input":Hc(e,a),c=vl(e,a),Se("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=$({},a,{value:void 0}),Se("invalid",e);break;case"textarea":Qc(e,a),c=Cl(e,a),Se("invalid",e);break;default:c=a}kl(s,c),y=c;for(f in y)if(y.hasOwnProperty(f)){var C=y[f];f==="style"?Zc(e,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Xc(e,C)):f==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&ri(e,C):typeof C=="number"&&ri(e,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?C!=null&&f==="onScroll"&&Se("scroll",e):C!=null&&ee(e,f,C,m))}switch(s){case"input":ws(e),Gc(e,a,!1);break;case"textarea":ws(e),Yc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+he(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?hr(e,!!a.multiple,f,!1):a.defaultValue!=null&&hr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Hs)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return nt(n),null;case 6:if(e&&n.stateNode!=null)dh(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(s=Qn(Pi.current),Qn(Ht.current),Xs(n)){if(a=n.stateNode,s=n.memoizedProps,a[$t]=n,(f=a.nodeValue!==s)&&(e=vt,e!==null))switch(e.tag){case 3:$s(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(a.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[$t]=n,n.stateNode=a}return nt(n),null;case 13:if(ke(Re),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&wt!==null&&n.mode&1&&!(n.flags&128))pf(),Nr(),n.flags|=98560,f=!1;else if(f=Xs(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[$t]=n}else Nr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;nt(n),f=!1}else Lt!==null&&(tu(Lt),Lt=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||Re.current&1?Be===0&&(Be=3):iu())),n.updateQueue!==null&&(n.flags|=4),nt(n),null);case 4:return Or(),Ha(e,n),e===null&&Si(n.stateNode.containerInfo),nt(n),null;case 10:return ya(n.type._context),nt(n),null;case 17:return ut(n.type)&&Gs(),nt(n),null;case 19:if(ke(Re),f=n.memoizedState,f===null)return nt(n),null;if(a=(n.flags&128)!==0,m=f.rendering,m===null)if(a)Mi(f,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(m=ro(e),m!==null){for(n.flags|=128,Mi(f,!1),a=m.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)f=s,e=a,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,e=m.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _e(Re,Re.current&1|2),n.child}e=e.sibling}f.tail!==null&&Fe()>Fr&&(n.flags|=128,a=!0,Mi(f,!1),n.lanes=4194304)}else{if(!a)if(e=ro(m),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Mi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ne)return nt(n),null}else 2*Fe()-f.renderingStartTime>Fr&&s!==1073741824&&(n.flags|=128,a=!0,Mi(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(s=f.last,s!==null?s.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Fe(),n.sibling=null,s=Re.current,_e(Re,a?s&1|2:s&1),n):(nt(n),null);case 22:case 23:return ru(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?Et&1073741824&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function py(e,n){switch(fa(n),n.tag){case 1:return ut(n.type)&&Gs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Or(),ke(at),ke(et),xa(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Sa(n),null;case 13:if(ke(Re),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ke(Re),null;case 4:return Or(),null;case 10:return ya(n.type._context),null;case 22:case 23:return ru(),null;case 24:return null;default:return null}}var ho=!1,rt=!1,my=typeof WeakSet=="function"?WeakSet:Set,H=null;function Lr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Ae(e,n,a)}else s.current=null}function Va(e,n,s){try{s()}catch(a){Ae(e,n,a)}}var fh=!1;function gy(e,n){if(ra=Os,e=$d(),Yl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var m=0,y=-1,C=-1,T=0,L=0,M=e,A=null;t:for(;;){for(var W;M!==s||c!==0&&M.nodeType!==3||(y=m+c),M!==f||a!==0&&M.nodeType!==3||(C=m+a),M.nodeType===3&&(m+=M.nodeValue.length),(W=M.firstChild)!==null;)A=M,M=W;for(;;){if(M===e)break t;if(A===s&&++T===c&&(y=m),A===f&&++L===a&&(C=m),(W=M.nextSibling)!==null)break;M=A,A=M.parentNode}M=W}s=y===-1||C===-1?null:{start:y,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(ia={focusedElem:e,selectionRange:s},Os=!1,H=n;H!==null;)if(n=H,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,H=e;else for(;H!==null;){n=H;try{var V=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var Q=V.memoizedProps,be=V.memoizedState,k=n.stateNode,S=k.getSnapshotBeforeUpdate(n.elementType===n.type?Q:Mt(n.type,Q),be);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(F){Ae(n,n.return,F)}if(e=n.sibling,e!==null){e.return=n.return,H=e;break}H=n.return}return V=fh,fh=!1,V}function Fi(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Va(n,s,f)}c=c.next}while(c!==a)}}function po(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function Ga(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function hh(e){var n=e.alternate;n!==null&&(e.alternate=null,hh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[$t],delete n[xi],delete n[aa],delete n[J_],delete n[Z_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ph(e){return e.tag===5||e.tag===3||e.tag===4}function mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qa(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hs));else if(a!==4&&(e=e.child,e!==null))for(Qa(e,n,s),e=e.sibling;e!==null;)Qa(e,n,s),e=e.sibling}function Ka(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ka(e,n,s),e=e.sibling;e!==null;)Ka(e,n,s),e=e.sibling}var Ye=null,Ft=!1;function In(e,n,s){for(s=s.child;s!==null;)gh(e,n,s),s=s.sibling}function gh(e,n,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Is,s)}catch{}switch(s.tag){case 5:rt||Lr(s,n);case 6:var a=Ye,c=Ft;Ye=null,In(e,n,s),Ye=a,Ft=c,Ye!==null&&(Ft?(e=Ye,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ye.removeChild(s.stateNode));break;case 18:Ye!==null&&(Ft?(e=Ye,s=s.stateNode,e.nodeType===8?la(e.parentNode,s):e.nodeType===1&&la(e,s),pi(e)):la(Ye,s.stateNode));break;case 4:a=Ye,c=Ft,Ye=s.stateNode.containerInfo,Ft=!0,In(e,n,s),Ye=a,Ft=c;break;case 0:case 11:case 14:case 15:if(!rt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,m=f.destroy;f=f.tag,m!==void 0&&(f&2||f&4)&&Va(s,n,m),c=c.next}while(c!==a)}In(e,n,s);break;case 1:if(!rt&&(Lr(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(y){Ae(s,n,y)}In(e,n,s);break;case 21:In(e,n,s);break;case 22:s.mode&1?(rt=(a=rt)||s.memoizedState!==null,In(e,n,s),rt=a):In(e,n,s);break;default:In(e,n,s)}}function _h(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new my),n.forEach(function(a){var c=xy.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function bt(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var f=e,m=n,y=m;e:for(;y!==null;){switch(y.tag){case 5:Ye=y.stateNode,Ft=!1;break e;case 3:Ye=y.stateNode.containerInfo,Ft=!0;break e;case 4:Ye=y.stateNode.containerInfo,Ft=!0;break e}y=y.return}if(Ye===null)throw Error(r(160));gh(f,m,c),Ye=null,Ft=!1;var C=c.alternate;C!==null&&(C.return=null),c.return=null}catch(T){Ae(c,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)yh(n,e),n=n.sibling}function yh(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(n,e),Gt(e),a&4){try{Fi(3,e,e.return),po(3,e)}catch(Q){Ae(e,e.return,Q)}try{Fi(5,e,e.return)}catch(Q){Ae(e,e.return,Q)}}break;case 1:bt(n,e),Gt(e),a&512&&s!==null&&Lr(s,s.return);break;case 5:if(bt(n,e),Gt(e),a&512&&s!==null&&Lr(s,s.return),e.flags&32){var c=e.stateNode;try{ri(c,"")}catch(Q){Ae(e,e.return,Q)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,m=s!==null?s.memoizedProps:f,y=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&Vc(c,f),xl(y,m);var T=xl(y,f);for(m=0;m<C.length;m+=2){var L=C[m],M=C[m+1];L==="style"?Zc(c,M):L==="dangerouslySetInnerHTML"?Xc(c,M):L==="children"?ri(c,M):ee(c,L,M,T)}switch(y){case"input":wl(c,f);break;case"textarea":Kc(c,f);break;case"select":var A=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var W=f.value;W!=null?hr(c,!!f.multiple,W,!1):A!==!!f.multiple&&(f.defaultValue!=null?hr(c,!!f.multiple,f.defaultValue,!0):hr(c,!!f.multiple,f.multiple?[]:"",!1))}c[xi]=f}catch(Q){Ae(e,e.return,Q)}}break;case 6:if(bt(n,e),Gt(e),a&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(Q){Ae(e,e.return,Q)}}break;case 3:if(bt(n,e),Gt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{pi(n.containerInfo)}catch(Q){Ae(e,e.return,Q)}break;case 4:bt(n,e),Gt(e);break;case 13:bt(n,e),Gt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Xa=Fe())),a&4&&_h(e);break;case 22:if(L=s!==null&&s.memoizedState!==null,e.mode&1?(rt=(T=rt)||L,bt(n,e),rt=T):bt(n,e),Gt(e),a&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!L&&e.mode&1)for(H=e,L=e.child;L!==null;){for(M=H=L;H!==null;){switch(A=H,W=A.child,A.tag){case 0:case 11:case 14:case 15:Fi(4,A,A.return);break;case 1:Lr(A,A.return);var V=A.stateNode;if(typeof V.componentWillUnmount=="function"){a=A,s=A.return;try{n=a,V.props=n.memoizedProps,V.state=n.memoizedState,V.componentWillUnmount()}catch(Q){Ae(a,s,Q)}}break;case 5:Lr(A,A.return);break;case 22:if(A.memoizedState!==null){Eh(M);continue}}W!==null?(W.return=A,H=W):Eh(M)}L=L.sibling}e:for(L=null,M=e;;){if(M.tag===5){if(L===null){L=M;try{c=M.stateNode,T?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=M.stateNode,C=M.memoizedProps.style,m=C!=null&&C.hasOwnProperty("display")?C.display:null,y.style.display=Jc("display",m))}catch(Q){Ae(e,e.return,Q)}}}else if(M.tag===6){if(L===null)try{M.stateNode.nodeValue=T?"":M.memoizedProps}catch(Q){Ae(e,e.return,Q)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;L===M&&(L=null),M=M.return}L===M&&(L=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:bt(n,e),Gt(e),a&4&&_h(e);break;case 21:break;default:bt(n,e),Gt(e)}}function Gt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(ph(s)){var a=s;break e}s=s.return}throw Error(r(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ri(c,""),a.flags&=-33);var f=mh(e);Ka(e,f,c);break;case 3:case 4:var m=a.stateNode.containerInfo,y=mh(e);Qa(e,y,m);break;default:throw Error(r(161))}}catch(C){Ae(e,e.return,C)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e,n,s){H=e,vh(e)}function vh(e,n,s){for(var a=(e.mode&1)!==0;H!==null;){var c=H,f=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||ho;if(!m){var y=c.alternate,C=y!==null&&y.memoizedState!==null||rt;y=ho;var T=rt;if(ho=m,(rt=C)&&!T)for(H=c;H!==null;)m=H,C=m.child,m.tag===22&&m.memoizedState!==null?Ch(c):C!==null?(C.return=m,H=C):Ch(c);for(;f!==null;)H=f,vh(f),f=f.sibling;H=c,ho=y,rt=T}wh(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,H=f):wh(e)}}function wh(e){for(;H!==null;){var n=H;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:rt||po(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!rt)if(s===null)a.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Mt(n.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Ef(n,f,a);break;case 3:var m=n.updateQueue;if(m!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Ef(n,m,s)}break;case 5:var y=n.stateNode;if(s===null&&n.flags&4){s=y;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&s.focus();break;case"img":C.src&&(s.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var L=T.memoizedState;if(L!==null){var M=L.dehydrated;M!==null&&pi(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}rt||n.flags&512&&Ga(n)}catch(A){Ae(n,n.return,A)}}if(n===e){H=null;break}if(s=n.sibling,s!==null){s.return=n.return,H=s;break}H=n.return}}function Eh(e){for(;H!==null;){var n=H;if(n===e){H=null;break}var s=n.sibling;if(s!==null){s.return=n.return,H=s;break}H=n.return}}function Ch(e){for(;H!==null;){var n=H;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{po(4,n)}catch(C){Ae(n,s,C)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(C){Ae(n,c,C)}}var f=n.return;try{Ga(n)}catch(C){Ae(n,f,C)}break;case 5:var m=n.return;try{Ga(n)}catch(C){Ae(n,m,C)}}}catch(C){Ae(n,n.return,C)}if(n===e){H=null;break}var y=n.sibling;if(y!==null){y.return=n.return,H=y;break}H=n.return}}var yy=Math.ceil,mo=re.ReactCurrentDispatcher,Ya=re.ReactCurrentOwner,Rt=re.ReactCurrentBatchConfig,ue=0,$e=null,je=null,qe=0,Et=0,Mr=En(0),Be=0,bi=null,Yn=0,go=0,qa=0,zi=null,dt=null,Xa=0,Fr=1/0,ln=null,_o=!1,Ja=null,Tn=null,yo=!1,Nn=null,vo=0,ji=0,Za=null,wo=-1,Eo=0;function ot(){return ue&6?Fe():wo!==-1?wo:wo=Fe()}function Rn(e){return e.mode&1?ue&2&&qe!==0?qe&-qe:ty.transition!==null?(Eo===0&&(Eo=pd()),Eo):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Sd(e.type)),e):1}function zt(e,n,s,a){if(50<ji)throw ji=0,Za=null,Error(r(185));ui(e,s,a),(!(ue&2)||e!==$e)&&(e===$e&&(!(ue&2)&&(go|=s),Be===4&&Pn(e,qe)),ft(e,a),s===1&&ue===0&&!(n.mode&1)&&(Fr=Fe()+500,Ks&&Sn()))}function ft(e,n){var s=e.callbackNode;t_(e,n);var a=Rs(e,e===$e?qe:0);if(a===0)s!==null&&dd(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&dd(s),n===1)e.tag===0?ey(kh.bind(null,e)):uf(kh.bind(null,e)),q_(function(){!(ue&6)&&Sn()}),s=null;else{switch(md(a)){case 1:s=Ol;break;case 4:s=fd;break;case 16:s=xs;break;case 536870912:s=hd;break;default:s=xs}s=Oh(s,Sh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Sh(e,n){if(wo=-1,Eo=0,ue&6)throw Error(r(327));var s=e.callbackNode;if(br()&&e.callbackNode!==s)return null;var a=Rs(e,e===$e?qe:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=Co(e,a);else{n=a;var c=ue;ue|=2;var f=Ih();($e!==e||qe!==n)&&(ln=null,Fr=Fe()+500,Xn(e,n));do try{Ey();break}catch(y){xh(e,y)}while(!0);_a(),mo.current=f,ue=c,je!==null?n=0:($e=null,qe=0,n=Be)}if(n!==0){if(n===2&&(c=Al(e),c!==0&&(a=c,n=eu(e,c))),n===1)throw s=bi,Xn(e,0),Pn(e,a),ft(e,Fe()),s;if(n===6)Pn(e,a);else{if(c=e.current.alternate,!(a&30)&&!vy(c)&&(n=Co(e,a),n===2&&(f=Al(e),f!==0&&(a=f,n=eu(e,f))),n===1))throw s=bi,Xn(e,0),Pn(e,a),ft(e,Fe()),s;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(r(345));case 2:Jn(e,dt,ln);break;case 3:if(Pn(e,a),(a&130023424)===a&&(n=Xa+500-Fe(),10<n)){if(Rs(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){ot(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=oa(Jn.bind(null,e,dt,ln),n);break}Jn(e,dt,ln);break;case 4:if(Pn(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var m=31-Ot(a);f=1<<m,m=n[m],m>c&&(c=m),a&=~f}if(a=c,a=Fe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*yy(a/1960))-a,10<a){e.timeoutHandle=oa(Jn.bind(null,e,dt,ln),a);break}Jn(e,dt,ln);break;case 5:Jn(e,dt,ln);break;default:throw Error(r(329))}}}return ft(e,Fe()),e.callbackNode===s?Sh.bind(null,e):null}function eu(e,n){var s=zi;return e.current.memoizedState.isDehydrated&&(Xn(e,n).flags|=256),e=Co(e,n),e!==2&&(n=dt,dt=s,n!==null&&tu(n)),e}function tu(e){dt===null?dt=e:dt.push.apply(dt,e)}function vy(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],f=c.getSnapshot;c=c.value;try{if(!At(f(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pn(e,n){for(n&=~qa,n&=~go,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Ot(n),a=1<<s;e[s]=-1,n&=~a}}function kh(e){if(ue&6)throw Error(r(327));br();var n=Rs(e,0);if(!(n&1))return ft(e,Fe()),null;var s=Co(e,n);if(e.tag!==0&&s===2){var a=Al(e);a!==0&&(n=a,s=eu(e,a))}if(s===1)throw s=bi,Xn(e,0),Pn(e,n),ft(e,Fe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Jn(e,dt,ln),ft(e,Fe()),null}function nu(e,n){var s=ue;ue|=1;try{return e(n)}finally{ue=s,ue===0&&(Fr=Fe()+500,Ks&&Sn())}}function qn(e){Nn!==null&&Nn.tag===0&&!(ue&6)&&br();var n=ue;ue|=1;var s=Rt.transition,a=pe;try{if(Rt.transition=null,pe=1,e)return e()}finally{pe=a,Rt.transition=s,ue=n,!(ue&6)&&Sn()}}function ru(){Et=Mr.current,ke(Mr)}function Xn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Y_(s)),je!==null)for(s=je.return;s!==null;){var a=s;switch(fa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Gs();break;case 3:Or(),ke(at),ke(et),xa();break;case 5:Sa(a);break;case 4:Or();break;case 13:ke(Re);break;case 19:ke(Re);break;case 10:ya(a.type._context);break;case 22:case 23:ru()}s=s.return}if($e=e,je=e=Dn(e.current,null),qe=Et=n,Be=0,bi=null,qa=go=Yn=0,dt=zi=null,Gn!==null){for(n=0;n<Gn.length;n++)if(s=Gn[n],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,f=s.pending;if(f!==null){var m=f.next;f.next=c,a.next=m}s.pending=a}Gn=null}return e}function xh(e,n){do{var s=je;try{if(_a(),io.current=ao,so){for(var a=Pe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}so=!1}if(Kn=0,We=Ue=Pe=null,Di=!1,Oi=0,Ya.current=null,s===null||s.return===null){Be=1,bi=n,je=null;break}e:{var f=e,m=s.return,y=s,C=n;if(n=qe,y.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var T=C,L=y,M=L.tag;if(!(L.mode&1)&&(M===0||M===11||M===15)){var A=L.alternate;A?(L.updateQueue=A.updateQueue,L.memoizedState=A.memoizedState,L.lanes=A.lanes):(L.updateQueue=null,L.memoizedState=null)}var W=qf(m);if(W!==null){W.flags&=-257,Xf(W,m,y,f,n),W.mode&1&&Yf(f,T,n),n=W,C=T;var V=n.updateQueue;if(V===null){var Q=new Set;Q.add(C),n.updateQueue=Q}else V.add(C);break e}else{if(!(n&1)){Yf(f,T,n),iu();break e}C=Error(r(426))}}else if(Ne&&y.mode&1){var be=qf(m);if(be!==null){!(be.flags&65536)&&(be.flags|=256),Xf(be,m,y,f,n),ma(Ar(C,y));break e}}f=C=Ar(C,y),Be!==4&&(Be=2),zi===null?zi=[f]:zi.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var k=Qf(f,C,n);wf(f,k);break e;case 1:y=C;var S=f.type,I=f.stateNode;if(!(f.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Tn===null||!Tn.has(I)))){f.flags|=65536,n&=-n,f.lanes|=n;var F=Kf(f,y,n);wf(f,F);break e}}f=f.return}while(f!==null)}Nh(s)}catch(K){n=K,je===s&&s!==null&&(je=s=s.return);continue}break}while(!0)}function Ih(){var e=mo.current;return mo.current=ao,e===null?ao:e}function iu(){(Be===0||Be===3||Be===2)&&(Be=4),$e===null||!(Yn&268435455)&&!(go&268435455)||Pn($e,qe)}function Co(e,n){var s=ue;ue|=2;var a=Ih();($e!==e||qe!==n)&&(ln=null,Xn(e,n));do try{wy();break}catch(c){xh(e,c)}while(!0);if(_a(),ue=s,mo.current=a,je!==null)throw Error(r(261));return $e=null,qe=0,Be}function wy(){for(;je!==null;)Th(je)}function Ey(){for(;je!==null&&!Gg();)Th(je)}function Th(e){var n=Dh(e.alternate,e,Et);e.memoizedProps=e.pendingProps,n===null?Nh(e):je=n,Ya.current=null}function Nh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=py(s,n),s!==null){s.flags&=32767,je=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,je=null;return}}else if(s=hy(s,n,Et),s!==null){je=s;return}if(n=n.sibling,n!==null){je=n;return}je=n=e}while(n!==null);Be===0&&(Be=5)}function Jn(e,n,s){var a=pe,c=Rt.transition;try{Rt.transition=null,pe=1,Cy(e,n,s,a)}finally{Rt.transition=c,pe=a}return null}function Cy(e,n,s,a){do br();while(Nn!==null);if(ue&6)throw Error(r(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(n_(e,f),e===$e&&(je=$e=null,qe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||yo||(yo=!0,Oh(xs,function(){return br(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=Rt.transition,Rt.transition=null;var m=pe;pe=1;var y=ue;ue|=4,Ya.current=null,gy(e,s),yh(s,e),W_(ia),Os=!!ra,ia=ra=null,e.current=s,_y(s),Qg(),ue=y,pe=m,Rt.transition=f}else e.current=s;if(yo&&(yo=!1,Nn=e,vo=c),f=e.pendingLanes,f===0&&(Tn=null),qg(s.stateNode),ft(e,Fe()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(_o)throw _o=!1,e=Ja,Ja=null,e;return vo&1&&e.tag!==0&&br(),f=e.pendingLanes,f&1?e===Za?ji++:(ji=0,Za=e):ji=0,Sn(),null}function br(){if(Nn!==null){var e=md(vo),n=Rt.transition,s=pe;try{if(Rt.transition=null,pe=16>e?16:e,Nn===null)var a=!1;else{if(e=Nn,Nn=null,vo=0,ue&6)throw Error(r(331));var c=ue;for(ue|=4,H=e.current;H!==null;){var f=H,m=f.child;if(H.flags&16){var y=f.deletions;if(y!==null){for(var C=0;C<y.length;C++){var T=y[C];for(H=T;H!==null;){var L=H;switch(L.tag){case 0:case 11:case 15:Fi(8,L,f)}var M=L.child;if(M!==null)M.return=L,H=M;else for(;H!==null;){L=H;var A=L.sibling,W=L.return;if(hh(L),L===T){H=null;break}if(A!==null){A.return=W,H=A;break}H=W}}}var V=f.alternate;if(V!==null){var Q=V.child;if(Q!==null){V.child=null;do{var be=Q.sibling;Q.sibling=null,Q=be}while(Q!==null)}}H=f}}if(f.subtreeFlags&2064&&m!==null)m.return=f,H=m;else e:for(;H!==null;){if(f=H,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Fi(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,H=k;break e}H=f.return}}var S=e.current;for(H=S;H!==null;){m=H;var I=m.child;if(m.subtreeFlags&2064&&I!==null)I.return=m,H=I;else e:for(m=S;H!==null;){if(y=H,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:po(9,y)}}catch(K){Ae(y,y.return,K)}if(y===m){H=null;break e}var F=y.sibling;if(F!==null){F.return=y.return,H=F;break e}H=y.return}}if(ue=c,Sn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Is,e)}catch{}a=!0}return a}finally{pe=s,Rt.transition=n}}return!1}function Rh(e,n,s){n=Ar(s,n),n=Qf(e,n,1),e=xn(e,n,1),n=ot(),e!==null&&(ui(e,1,n),ft(e,n))}function Ae(e,n,s){if(e.tag===3)Rh(e,e,s);else for(;n!==null;){if(n.tag===3){Rh(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Tn===null||!Tn.has(a))){e=Ar(s,e),e=Kf(n,e,1),n=xn(n,e,1),e=ot(),n!==null&&(ui(n,1,e),ft(n,e));break}}n=n.return}}function Sy(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=ot(),e.pingedLanes|=e.suspendedLanes&s,$e===e&&(qe&s)===s&&(Be===4||Be===3&&(qe&130023424)===qe&&500>Fe()-Xa?Xn(e,0):qa|=s),ft(e,n)}function Ph(e,n){n===0&&(e.mode&1?(n=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):n=1);var s=ot();e=rn(e,n),e!==null&&(ui(e,n,s),ft(e,s))}function ky(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ph(e,s)}function xy(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(n),Ph(e,s)}var Dh;Dh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||at.current)ct=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ct=!1,fy(e,n,s);ct=!!(e.flags&131072)}else ct=!1,Ne&&n.flags&1048576&&cf(n,qs,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;fo(e,n),e=n.pendingProps;var c=xr(n,et.current);Dr(n,s),c=Na(null,n,a,e,c,s);var f=Ra();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ut(a)?(f=!0,Qs(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ea(n),c.updater=uo,n.stateNode=c,c._reactInternals=n,Ma(n,a,e,s),n=ja(null,n,a,!0,f,s)):(n.tag=0,Ne&&f&&da(n),st(null,n,c,s),n=n.child),n;case 16:a=n.elementType;e:{switch(fo(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=Ty(a),e=Mt(a,e),c){case 0:n=za(null,n,a,e,s);break e;case 1:n=rh(null,n,a,e,s);break e;case 11:n=Jf(null,n,a,e,s);break e;case 14:n=Zf(null,n,a,Mt(a.type,e),s);break e}throw Error(r(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Mt(a,c),za(e,n,a,c,s);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Mt(a,c),rh(e,n,a,c,s);case 3:e:{if(ih(n),e===null)throw Error(r(387));a=n.pendingProps,f=n.memoizedState,c=f.element,vf(e,n),no(n,a,null,s);var m=n.memoizedState;if(a=m.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Ar(Error(r(423)),n),n=sh(e,n,a,s,c);break e}else if(a!==c){c=Ar(Error(r(424)),n),n=sh(e,n,a,s,c);break e}else for(wt=wn(n.stateNode.containerInfo.firstChild),vt=n,Ne=!0,Lt=null,s=_f(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Nr(),a===c){n=on(e,n,s);break e}st(e,n,a,s)}n=n.child}return n;case 5:return Cf(n),e===null&&pa(n),a=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,m=c.children,sa(a,c)?m=null:f!==null&&sa(a,f)&&(n.flags|=32),nh(e,n),st(e,n,m,s),n.child;case 6:return e===null&&pa(n),null;case 13:return oh(e,n,s);case 4:return Ca(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Rr(n,null,a,s):st(e,n,a,s),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Mt(a,c),Jf(e,n,a,c,s);case 7:return st(e,n,n.pendingProps,s),n.child;case 8:return st(e,n,n.pendingProps.children,s),n.child;case 12:return st(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,f=n.memoizedProps,m=c.value,_e(Zs,a._currentValue),a._currentValue=m,f!==null)if(At(f.value,m)){if(f.children===c.children&&!at.current){n=on(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var y=f.dependencies;if(y!==null){m=f.child;for(var C=y.firstContext;C!==null;){if(C.context===a){if(f.tag===1){C=sn(-1,s&-s),C.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var L=T.pending;L===null?C.next=C:(C.next=L.next,L.next=C),T.pending=C}}f.lanes|=s,C=f.alternate,C!==null&&(C.lanes|=s),va(f.return,s,n),y.lanes|=s;break}C=C.next}}else if(f.tag===10)m=f.type===n.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(r(341));m.lanes|=s,y=m.alternate,y!==null&&(y.lanes|=s),va(m,s,n),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===n){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}st(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,Dr(n,s),c=Tt(c),a=a(c),n.flags|=1,st(e,n,a,s),n.child;case 14:return a=n.type,c=Mt(a,n.pendingProps),c=Mt(a.type,c),Zf(e,n,a,c,s);case 15:return eh(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Mt(a,c),fo(e,n),n.tag=1,ut(a)?(e=!0,Qs(n)):e=!1,Dr(n,s),Vf(n,a,c),Ma(n,a,c,s),ja(null,n,a,!0,e,s);case 19:return ah(e,n,s);case 22:return th(e,n,s)}throw Error(r(156,n.tag))};function Oh(e,n){return cd(e,n)}function Iy(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,n,s,a){return new Iy(e,n,s,a)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ty(e){if(typeof e=="function")return su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===St)return 11;if(e===kt)return 14}return 2}function Dn(e,n){var s=e.alternate;return s===null?(s=Pt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function So(e,n,s,a,c,f){var m=2;if(a=e,typeof e=="function")su(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case Ce:return Zn(s.children,c,f,n);case Oe:m=8,c|=8;break;case xe:return e=Pt(12,s,n,c|2),e.elementType=xe,e.lanes=f,e;case it:return e=Pt(13,s,n,c),e.elementType=it,e.lanes=f,e;case gt:return e=Pt(19,s,n,c),e.elementType=gt,e.lanes=f,e;case Ie:return ko(s,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ze:m=10;break e;case Ct:m=9;break e;case St:m=11;break e;case kt:m=14;break e;case Ze:m=16,a=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Pt(m,s,n,c),n.elementType=e,n.type=a,n.lanes=f,n}function Zn(e,n,s,a){return e=Pt(7,e,a,n),e.lanes=s,e}function ko(e,n,s,a){return e=Pt(22,e,a,n),e.elementType=Ie,e.lanes=s,e.stateNode={isHidden:!1},e}function ou(e,n,s){return e=Pt(6,e,null,n),e.lanes=s,e}function lu(e,n,s){return n=Pt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ny(e,n,s,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function au(e,n,s,a,c,f,m,y,C){return e=new Ny(e,n,s,y,C),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Pt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ea(f),e}function Ry(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function Ah(e){if(!e)return Cn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ut(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(ut(s))return lf(e,s,n)}return n}function Lh(e,n,s,a,c,f,m,y,C){return e=au(s,a,!0,e,c,f,m,y,C),e.context=Ah(null),s=e.current,a=ot(),c=Rn(s),f=sn(a,c),f.callback=n??null,xn(s,f,c),e.current.lanes=c,ui(e,c,a),ft(e,a),e}function xo(e,n,s,a){var c=n.current,f=ot(),m=Rn(c);return s=Ah(s),n.context===null?n.context=s:n.pendingContext=s,n=sn(f,m),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=xn(c,n,m),e!==null&&(zt(e,c,m,f),to(e,c,m)),m}function Io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function uu(e,n){Mh(e,n),(e=e.alternate)&&Mh(e,n)}var Fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function cu(e){this._internalRoot=e}To.prototype.render=cu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));xo(e,n,null,null)},To.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qn(function(){xo(null,e,null,null)}),n[Zt]=null}};function To(e){this._internalRoot=e}To.prototype.unstable_scheduleHydration=function(e){if(e){var n=yd();e={blockedOn:null,target:e,priority:n};for(var s=0;s<_n.length&&n!==0&&n<_n[s].priority;s++);_n.splice(s,0,e),s===0&&Ed(e)}};function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function No(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bh(){}function Py(e,n,s,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var T=Io(m);f.call(T)}}var m=Lh(n,a,e,0,null,!1,!1,"",bh);return e._reactRootContainer=m,e[Zt]=m.current,Si(e.nodeType===8?e.parentNode:e),qn(),m}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var y=a;a=function(){var T=Io(C);y.call(T)}}var C=au(e,0,!1,null,null,!1,!1,"",bh);return e._reactRootContainer=C,e[Zt]=C.current,Si(e.nodeType===8?e.parentNode:e),qn(function(){xo(n,C,s,a)}),C}function Ro(e,n,s,a,c){var f=s._reactRootContainer;if(f){var m=f;if(typeof c=="function"){var y=c;c=function(){var C=Io(m);y.call(C)}}xo(n,m,e,c)}else m=Py(s,n,e,c,a);return Io(m)}gd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=ai(n.pendingLanes);s!==0&&(Ml(n,s|1),ft(n,Fe()),!(ue&6)&&(Fr=Fe()+500,Sn()))}break;case 13:qn(function(){var a=rn(e,1);if(a!==null){var c=ot();zt(a,e,1,c)}}),uu(e,1)}},Fl=function(e){if(e.tag===13){var n=rn(e,134217728);if(n!==null){var s=ot();zt(n,e,134217728,s)}uu(e,134217728)}},_d=function(e){if(e.tag===13){var n=Rn(e),s=rn(e,n);if(s!==null){var a=ot();zt(s,e,n,a)}uu(e,n)}},yd=function(){return pe},vd=function(e,n){var s=pe;try{return pe=e,n()}finally{pe=s}},Nl=function(e,n,s){switch(n){case"input":if(wl(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var c=Vs(a);if(!c)throw Error(r(90));$c(a),wl(a,c)}}}break;case"textarea":Kc(e,s);break;case"select":n=s.value,n!=null&&hr(e,!!s.multiple,n,!1)}},rd=nu,id=qn;var Dy={usingClientEntryPoint:!1,Events:[Ii,Sr,Vs,td,nd,nu]},Ui={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oy={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Is=Po.inject(Oy),Wt=Po}catch{}}return ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dy,ht.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!du(n))throw Error(r(200));return Ry(e,n,null,s)},ht.createRoot=function(e,n){if(!du(e))throw Error(r(299));var s=!1,a="",c=Fh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=au(e,1,!1,null,null,s,!1,a,c),e[Zt]=n.current,Si(e.nodeType===8?e.parentNode:e),new cu(n)},ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=ad(n),e=e===null?null:e.stateNode,e},ht.flushSync=function(e){return qn(e)},ht.hydrate=function(e,n,s){if(!No(n))throw Error(r(200));return Ro(null,e,n,!0,s)},ht.hydrateRoot=function(e,n,s){if(!du(e))throw Error(r(405));var a=s!=null&&s.hydratedSources||null,c=!1,f="",m=Fh;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),n=Lh(n,null,e,1,s??null,c,!1,f,m),e[Zt]=n.current,Si(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new To(n)},ht.render=function(e,n,s){if(!No(n))throw Error(r(200));return Ro(null,e,n,!1,s)},ht.unmountComponentAtNode=function(e){if(!No(e))throw Error(r(40));return e._reactRootContainer?(qn(function(){Ro(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1},ht.unstable_batchedUpdates=nu,ht.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!No(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return Ro(e,n,s,!1,a)},ht.version="18.3.1-next-f1338f8080-20240426",ht}var Vh;function By(){if(Vh)return pu.exports;Vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=Uy(),pu.exports}var Gh;function Wy(){if(Gh)return Do;Gh=1;var i=By();return Do.createRoot=i.createRoot,Do.hydrateRoot=i.hydrateRoot,Do}var $y=Wy(),Wi={},Qh;function Hy(){if(Qh)return Wi;Qh=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.parse=d,Wi.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,N){const x=new u,D=v.length;if(D<2)return x;const O=(N==null?void 0:N.decode)||E;let z=0;do{const U=v.indexOf("=",z);if(U===-1)break;const ee=v.indexOf(";",z),re=ee===-1?D:ee;if(U>re){z=v.lastIndexOf(";",U-1)+1;continue}const de=h(v,z,U),Ee=p(v,U,de),Ce=v.slice(de,Ee);if(x[Ce]===void 0){let Oe=h(v,U+1,re),xe=p(v,re,Oe);const ze=O(v.slice(Oe,xe));x[Ce]=ze}z=re+1}while(z<D);return x}function h(v,N,x){do{const D=v.charCodeAt(N);if(D!==32&&D!==9)return N}while(++N<x);return x}function p(v,N,x){for(;N>x;){const D=v.charCodeAt(--N);if(D!==32&&D!==9)return N+1}return x}function g(v,N,x){const D=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(v))throw new TypeError(`argument name is invalid: ${v}`);const O=D(N);if(!t.test(O))throw new TypeError(`argument val is invalid: ${N}`);let z=v+"="+O;if(!x)return z;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);z+="; Max-Age="+x.maxAge}if(x.domain){if(!r.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);z+="; Domain="+x.domain}if(x.path){if(!o.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);z+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);z+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(z+="; HttpOnly"),x.secure&&(z+="; Secure"),x.partitioned&&(z+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return z}function E(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function w(v){return l.call(v)==="[object Date]"}return Wi}Hy();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kh="popstate";function Vy(i={}){function t(o,l){let{pathname:u,search:d,hash:h}=o.location;return Pu("",{pathname:u,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){return typeof l=="string"?l:es(l)}return Qy(t,r,null,i)}function De(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function qt(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gy(){return Math.random().toString(36).substring(2,10)}function Yh(i,t){return{usr:i.state,key:i.key,idx:t}}function Pu(i,t,r=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Yr(t):t,state:r,key:t&&t.key||o||Gy()}}function es({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Yr(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let o=i.indexOf("?");o>=0&&(t.search=i.substring(o),i=i.substring(0,o)),i&&(t.pathname=i)}return t}function Qy(i,t,r,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,h="POP",p=null,g=E();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function E(){return(d.state||{idx:null}).idx}function w(){h="POP";let O=E(),z=O==null?null:O-g;g=O,p&&p({action:h,location:D.location,delta:z})}function v(O,z){h="PUSH";let U=Pu(D.location,O,z);g=E()+1;let ee=Yh(U,g),re=D.createHref(U);try{d.pushState(ee,"",re)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;l.location.assign(re)}u&&p&&p({action:h,location:D.location,delta:1})}function N(O,z){h="REPLACE";let U=Pu(D.location,O,z);g=E();let ee=Yh(U,g),re=D.createHref(U);d.replaceState(ee,"",re),u&&p&&p({action:h,location:D.location,delta:0})}function x(O){let z=l.location.origin!=="null"?l.location.origin:l.location.href,U=typeof O=="string"?O:es(O);return U=U.replace(/ $/,"%20"),De(z,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,z)}let D={get action(){return h},get location(){return i(l,d)},listen(O){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Kh,w),p=O,()=>{l.removeEventListener(Kh,w),p=null}},createHref(O){return t(l,O)},createURL:x,encodeLocation(O){let z=x(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:v,replace:N,go(O){return d.go(O)}};return D}function Yp(i,t,r="/"){return Ky(i,t,r,!1)}function Ky(i,t,r,o){let l=typeof t=="string"?Yr(t):t,u=bn(l.pathname||"/",r);if(u==null)return null;let d=qp(i);Yy(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=ov(u);h=iv(d[p],g,o)}return h}function qp(i,t=[],r=[],o=""){let l=(u,d,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(De(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let g=un([o,p.relativePath]),E=r.concat(p);u.children&&u.children.length>0&&(De(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qp(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:nv(g,u.index),routesMeta:E})};return i.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let p of Xp(u.path))l(u,d,p)}),t}function Xp(i){let t=i.split("/");if(t.length===0)return[];let[r,...o]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=Xp(o.join("/")),h=[];return h.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...d),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function Yy(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:rv(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var qy=/^:[\w-]+$/,Xy=3,Jy=2,Zy=1,ev=10,tv=-2,qh=i=>i==="*";function nv(i,t){let r=i.split("/"),o=r.length;return r.some(qh)&&(o+=tv),t&&(o+=Jy),r.filter(l=>!qh(l)).reduce((l,u)=>l+(qy.test(u)?Xy:u===""?Zy:ev),o)}function rv(i,t){return i.length===t.length&&i.slice(0,-1).every((o,l)=>o===t[l])?i[i.length-1]-t[t.length-1]:0}function iv(i,t,r=!1){let{routesMeta:o}=i,l={},u="/",d=[];for(let h=0;h<o.length;++h){let p=o[h],g=h===o.length-1,E=u==="/"?t:t.slice(u.length)||"/",w=zo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),v=p.route;if(!w&&g&&r&&!o[o.length-1].route.index&&(w=zo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:un([u,w.pathname]),pathnameBase:cv(un([u,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(u=un([u,w.pathnameBase]))}return d}function zo(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,o]=sv(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:o.reduce((g,{paramName:E,isOptional:w},v)=>{if(E==="*"){let x=h[v]||"";d=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const N=h[v];return w&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function sv(i,t=!1,r=!0){qt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function ov(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qt(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function bn(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=i.charAt(r);return o&&o!=="/"?null:i.slice(r)||"/"}function lv(i,t="/"){let{pathname:r,search:o="",hash:l=""}=typeof i=="string"?Yr(i):i;return{pathname:r?r.startsWith("/")?r:av(r,t):t,search:dv(o),hash:fv(l)}}function av(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function _u(i,t,r,o){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uv(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Jp(i){let t=uv(i);return t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase)}function Zp(i,t,r,o=!1){let l;typeof i=="string"?l=Yr(i):(l={...i},De(!l.pathname||!l.pathname.includes("?"),_u("?","pathname","search",l)),De(!l.pathname||!l.pathname.includes("#"),_u("#","pathname","hash",l)),De(!l.search||!l.search.includes("#"),_u("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=r;else{let w=t.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),w-=1;l.pathname=v.join("/")}h=w>=0?t[w]:"/"}let p=lv(l,h),g=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var un=i=>i.join("/").replace(/\/\/+/g,"/"),cv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),dv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,fv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function hv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var em=["POST","PUT","PATCH","DELETE"];new Set(em);var pv=["GET",...em];new Set(pv);var qr=P.createContext(null);qr.displayName="DataRouter";var il=P.createContext(null);il.displayName="DataRouterState";var tm=P.createContext({isTransitioning:!1});tm.displayName="ViewTransition";var mv=P.createContext(new Map);mv.displayName="Fetchers";var gv=P.createContext(null);gv.displayName="Await";var Xt=P.createContext(null);Xt.displayName="Navigation";var ds=P.createContext(null);ds.displayName="Location";var hn=P.createContext({outlet:null,matches:[],isDataRoute:!1});hn.displayName="Route";var ec=P.createContext(null);ec.displayName="RouteError";function _v(i,{relative:t}={}){De(fs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=P.useContext(Xt),{hash:l,pathname:u,search:d}=hs(i,{relative:t}),h=u;return r!=="/"&&(h=u==="/"?r:un([r,u])),o.createHref({pathname:h,search:d,hash:l})}function fs(){return P.useContext(ds)!=null}function ur(){return De(fs(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ds).location}var nm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rm(i){P.useContext(Xt).static||P.useLayoutEffect(i)}function yv(){let{isDataRoute:i}=P.useContext(hn);return i?Dv():vv()}function vv(){De(fs(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(qr),{basename:t,navigator:r}=P.useContext(Xt),{matches:o}=P.useContext(hn),{pathname:l}=ur(),u=JSON.stringify(Jp(o)),d=P.useRef(!1);return rm(()=>{d.current=!0}),P.useCallback((p,g={})=>{if(qt(d.current,nm),!d.current)return;if(typeof p=="number"){r.go(p);return}let E=Zp(p,JSON.parse(u),l,g.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:un([t,E.pathname])),(g.replace?r.replace:r.push)(E,g.state,g)},[t,r,u,l,i])}P.createContext(null);function hs(i,{relative:t}={}){let{matches:r}=P.useContext(hn),{pathname:o}=ur(),l=JSON.stringify(Jp(r));return P.useMemo(()=>Zp(i,JSON.parse(l),o,t==="path"),[i,l,o,t])}function wv(i,t){return im(i,t)}function im(i,t,r,o){var z;De(fs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Xt),{matches:u}=P.useContext(hn),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",E=d&&d.route;{let U=E&&E.path||"";sm(p,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=ur(),v;if(t){let U=typeof t=="string"?Yr(t):t;De(g==="/"||((z=U.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),v=U}else v=w;let N=v.pathname||"/",x=N;if(g!=="/"){let U=g.replace(/^\//,"").split("/");x="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=Yp(i,{pathname:x});qt(E||D!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),qt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=xv(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:un([g,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:un([g,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,r,o);return t&&O?P.createElement(ds.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},O):O}function Ev(){let i=Pv(),t=hv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),r?P.createElement("pre",{style:l},r):null,d)}var Cv=P.createElement(Ev,null),Sv=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?P.createElement(hn.Provider,{value:this.props.routeContext},P.createElement(ec.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kv({routeContext:i,match:t,children:r}){let o=P.useContext(qr);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(hn.Provider,{value:i},r)}function xv(i,t=[],r=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);De(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:E,errors:w}=r,v=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||v){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,E)=>{let w,v=!1,N=null,x=null;r&&(w=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||Cv,d&&(h<0&&E===0?(sm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):h===E&&(v=!0,x=g.route.hydrateFallbackElement||null)));let D=t.concat(l.slice(0,E+1)),O=()=>{let z;return w?z=N:v?z=x:g.route.Component?z=P.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,P.createElement(kv,{match:g,routeContext:{outlet:p,matches:D,isDataRoute:r!=null},children:z})};return r&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?P.createElement(Sv,{location:r.location,revalidation:r.revalidation,component:N,error:w,children:O(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):O()},null)}function tc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iv(i){let t=P.useContext(qr);return De(t,tc(i)),t}function Tv(i){let t=P.useContext(il);return De(t,tc(i)),t}function Nv(i){let t=P.useContext(hn);return De(t,tc(i)),t}function nc(i){let t=Nv(i),r=t.matches[t.matches.length-1];return De(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function Rv(){return nc("useRouteId")}function Pv(){var o;let i=P.useContext(ec),t=Tv("useRouteError"),r=nc("useRouteError");return i!==void 0?i:(o=t.errors)==null?void 0:o[r]}function Dv(){let{router:i}=Iv("useNavigate"),t=nc("useNavigate"),r=P.useRef(!1);return rm(()=>{r.current=!0}),P.useCallback(async(l,u={})=>{qt(r.current,nm),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var Xh={};function sm(i,t,r){!t&&!Xh[i]&&(Xh[i]=!0,qt(!1,r))}P.memo(Ov);function Ov({routes:i,future:t,state:r}){return im(i,void 0,r,t)}function om(i){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Av({basename:i="/",children:t=null,location:r,navigationType:o="POP",navigator:l,static:u=!1}){De(!fs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=Yr(r));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:v="default"}=r,N=P.useMemo(()=>{let x=bn(p,d);return x==null?null:{location:{pathname:x,search:g,hash:E,state:w,key:v},navigationType:o}},[d,p,g,E,w,v,o]);return qt(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:P.createElement(Xt.Provider,{value:h},P.createElement(ds.Provider,{children:t,value:N}))}function Lv({children:i,location:t}){return wv(Du(i),t)}function Du(i,t=[]){let r=[];return P.Children.forEach(i,(o,l)=>{if(!P.isValidElement(o))return;let u=[...t,l];if(o.type===P.Fragment){r.push.apply(r,Du(o.props.children,u));return}De(o.type===om,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Du(o.props.children,u)),r.push(d)}),r}var Mo="get",Fo="application/x-www-form-urlencoded";function sl(i){return i!=null&&typeof i.tagName=="string"}function Mv(i){return sl(i)&&i.tagName.toLowerCase()==="button"}function Fv(i){return sl(i)&&i.tagName.toLowerCase()==="form"}function bv(i){return sl(i)&&i.tagName.toLowerCase()==="input"}function zv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function jv(i,t){return i.button===0&&(!t||t==="_self")&&!zv(i)}var Oo=null;function Uv(){if(Oo===null)try{new FormData(document.createElement("form"),0),Oo=!1}catch{Oo=!0}return Oo}var Bv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yu(i){return i!=null&&!Bv.has(i)?(qt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fo}"`),null):i}function Wv(i,t){let r,o,l,u,d;if(Fv(i)){let h=i.getAttribute("action");o=h?bn(h,t):null,r=i.getAttribute("method")||Mo,l=yu(i.getAttribute("enctype"))||Fo,u=new FormData(i)}else if(Mv(i)||bv(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||h.getAttribute("action");if(o=p?bn(p,t):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||Mo,l=yu(i.getAttribute("formenctype"))||yu(h.getAttribute("enctype"))||Fo,u=new FormData(h,i),!Uv()){let{name:g,type:E,value:w}=i;if(E==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,w)}}else{if(sl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Mo,o=null,l=Fo,d=i}return u&&l==="text/plain"&&(d=u,u=void 0),{action:o,method:r.toLowerCase(),encType:l,formData:u,body:d}}function rc(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function $v(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Vv(i,t,r){let o=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let d=await $v(u,r);return d.links?d.links():[]}return[]}));return Yv(o.flat(1).filter(Hv).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Jh(i,t,r,o,l,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,h=(p,g)=>{var E;return r[g].pathname!==p.pathname||((E=r[g].route.path)==null?void 0:E.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>d(p,g)||h(p,g)):u==="data"?t.filter((p,g)=>{var w;let E=o.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Gv(i,t){return Qv(i.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let l=[o.module];return o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Qv(i){return[...new Set(i)]}function Kv(i){let t={},r=Object.keys(i).sort();for(let o of r)t[o]=i[o];return t}function Yv(i,t){let r=new Set;return new Set(t),i.reduce((o,l)=>{let u=JSON.stringify(Kv(l));return r.has(u)||(r.add(u),o.push({key:u,link:l})),o},[])}function qv(i){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Xv(){let i=P.useContext(qr);return rc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Jv(){let i=P.useContext(il);return rc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ic=P.createContext(void 0);ic.displayName="FrameworkContext";function lm(){let i=P.useContext(ic);return rc(i,"You must render this element inside a <HydratedRouter> element"),i}function Zv(i,t){let r=P.useContext(ic),[o,l]=P.useState(!1),[u,d]=P.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=t,v=P.useRef(null);P.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let D=z=>{z.forEach(U=>{d(U.isIntersecting)})},O=new IntersectionObserver(D,{threshold:.5});return v.current&&O.observe(v.current),()=>{O.disconnect()}}},[i]),P.useEffect(()=>{if(o){let D=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(D)}}},[o]);let N=()=>{l(!0)},x=()=>{l(!1),d(!1)};return r?i!=="intent"?[u,v,{}]:[u,v,{onFocus:$i(h,N),onBlur:$i(p,x),onMouseEnter:$i(g,N),onMouseLeave:$i(E,x),onTouchStart:$i(w,N)}]:[!1,v,{}]}function $i(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function e0({page:i,...t}){let{router:r}=Xv(),o=P.useMemo(()=>Yp(r.routes,i,r.basename),[r.routes,i,r.basename]);return o?P.createElement(n0,{page:i,matches:o,...t}):null}function t0(i){let{manifest:t,routeModules:r}=lm(),[o,l]=P.useState([]);return P.useEffect(()=>{let u=!1;return Vv(i,t,r).then(d=>{u||l(d)}),()=>{u=!0}},[i,t,r]),o}function n0({page:i,matches:t,...r}){let o=ur(),{manifest:l,routeModules:u}=lm(),{loaderData:d,matches:h}=Jv(),p=P.useMemo(()=>Jh(i,t,h,l,o,"data"),[i,t,h,l,o]),g=P.useMemo(()=>Jh(i,t,h,l,o,"assets"),[i,t,h,l,o]),E=P.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let N=new Set,x=!1;if(t.forEach(O=>{var U;let z=l.routes[O.route.id];!z||!z.hasLoader||(!p.some(ee=>ee.route.id===O.route.id)&&O.route.id in d&&((U=u[O.route.id])!=null&&U.shouldRevalidate)||z.hasClientLoader?x=!0:N.add(O.route.id))}),N.size===0)return[];let D=qv(i);return x&&N.size>0&&D.searchParams.set("_routes",t.filter(O=>N.has(O.route.id)).map(O=>O.route.id).join(",")),[D.pathname+D.search]},[d,o,l,p,t,i,u]),w=P.useMemo(()=>Gv(g,l),[g,l]),v=t0(g);return P.createElement(P.Fragment,null,E.map(N=>P.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),w.map(N=>P.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),v.map(({key:N,link:x})=>P.createElement("link",{key:N,...x})))}function r0(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var am=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{am&&(window.__reactRouterVersion="7.1.1")}catch{}function i0({basename:i,children:t,window:r}){let o=P.useRef();o.current==null&&(o.current=Vy({window:r,v5Compat:!0}));let l=o.current,[u,d]=P.useState({action:l.action,location:l.location}),h=P.useCallback(p=>{P.startTransition(()=>d(p))},[d]);return P.useLayoutEffect(()=>l.listen(h),[l,h]),P.createElement(Av,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var um=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cm=P.forwardRef(function({onClick:t,discover:r="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:g,preventScrollReset:E,viewTransition:w,...v},N){let{basename:x}=P.useContext(Xt),D=typeof g=="string"&&um.test(g),O,z=!1;if(typeof g=="string"&&D&&(O=g,am))try{let xe=new URL(window.location.href),ze=g.startsWith("//")?new URL(xe.protocol+g):new URL(g),Ct=bn(ze.pathname,x);ze.origin===xe.origin&&Ct!=null?g=Ct+ze.search+ze.hash:z=!0}catch{qt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=_v(g,{relative:l}),[ee,re,de]=Zv(o,v),Ee=a0(g,{replace:d,state:h,target:p,preventScrollReset:E,relative:l,viewTransition:w});function Ce(xe){t&&t(xe),xe.defaultPrevented||Ee(xe)}let Oe=P.createElement("a",{...v,...de,href:O||U,onClick:z||u?t:Ce,ref:r0(N,re),target:p,"data-discover":!D&&r==="render"?"true":void 0});return ee&&!D?P.createElement(P.Fragment,null,Oe,P.createElement(e0,{page:U})):Oe});cm.displayName="Link";var s0=P.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:o="",end:l=!1,style:u,to:d,viewTransition:h,children:p,...g},E){let w=hs(d,{relative:g.relative}),v=ur(),N=P.useContext(il),{navigator:x,basename:D}=P.useContext(Xt),O=N!=null&&h0(w)&&h===!0,z=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,U=v.pathname,ee=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(U=U.toLowerCase(),ee=ee?ee.toLowerCase():null,z=z.toLowerCase()),ee&&D&&(ee=bn(ee,D)||ee);const re=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let de=U===z||!l&&U.startsWith(z)&&U.charAt(re)==="/",Ee=ee!=null&&(ee===z||!l&&ee.startsWith(z)&&ee.charAt(z.length)==="/"),Ce={isActive:de,isPending:Ee,isTransitioning:O},Oe=de?t:void 0,xe;typeof o=="function"?xe=o(Ce):xe=[o,de?"active":null,Ee?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ze=typeof u=="function"?u(Ce):u;return P.createElement(cm,{...g,"aria-current":Oe,className:xe,ref:E,style:ze,to:d,viewTransition:h},typeof p=="function"?p(Ce):p)});s0.displayName="NavLink";var o0=P.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:o,replace:l,state:u,method:d=Mo,action:h,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...v},N)=>{let x=d0(),D=f0(h,{relative:g}),O=d.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&um.test(h),U=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let re=ee.nativeEvent.submitter,de=(re==null?void 0:re.getAttribute("formmethod"))||d;x(re||ee.currentTarget,{fetcherKey:t,method:de,navigate:r,replace:l,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return P.createElement("form",{ref:N,method:O,action:D,onSubmit:o?p:U,...v,"data-discover":!z&&i==="render"?"true":void 0})});o0.displayName="Form";function l0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dm(i){let t=P.useContext(qr);return De(t,l0(i)),t}function a0(i,{target:t,replace:r,state:o,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=yv(),p=ur(),g=hs(i,{relative:u});return P.useCallback(E=>{if(jv(E,t)){E.preventDefault();let w=r!==void 0?r:es(p)===es(g);h(i,{replace:w,state:o,preventScrollReset:l,relative:u,viewTransition:d})}},[p,h,g,r,o,t,i,l,u,d])}var u0=0,c0=()=>`__${String(++u0)}__`;function d0(){let{router:i}=dm("useSubmit"),{basename:t}=P.useContext(Xt),r=Rv();return P.useCallback(async(o,l={})=>{let{action:u,method:d,encType:h,formData:p,body:g}=Wv(o,t);if(l.navigate===!1){let E=l.fetcherKey||c0();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function f0(i,{relative:t}={}){let{basename:r}=P.useContext(Xt),o=P.useContext(hn);De(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...hs(i||".",{relative:t})},d=ur();if(i==null){u.search=d.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(E=>E==="")){h.delete("index"),p.filter(w=>w).forEach(w=>h.append("index",w));let E=h.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:un([r,u.pathname])),es(u)}function h0(i,t={}){let r=P.useContext(tm);De(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=dm("useViewTransitionState"),l=hs(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=bn(r.currentLocation.pathname,o)||r.currentLocation.pathname,d=bn(r.nextLocation.pathname,o)||r.nextLocation.pathname;return zo(l.pathname,d)!=null||zo(l.pathname,u)!=null}new TextEncoder;var Zh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(i,t){if(!i)throw Xr(t)},Xr=function(i){return new Error("Firebase Database ("+fm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},p0=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[o++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],d=i[r++],h=i[r++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(p>>10)),t[o++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],d=i[r++];t[o++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},sc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,h=d?i[l+1]:0,p=l+2<i.length,g=p?i[l+2]:0,E=u>>2,w=(u&3)<<4|h>>4;let v=(h&15)<<2|g>>6,N=g&63;p||(N=64,d||(v=64)),o.push(r[E],r[w],r[v],r[N])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(hm(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):p0(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],h=l<i.length?r[i.charAt(l)]:0;++l;const g=l<i.length?r[i.charAt(l)]:64;++l;const w=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||h==null||g==null||w==null)throw new m0;const v=u<<2|h>>4;if(o.push(v),g!==64){const N=h<<4&240|g>>2;if(o.push(N),w!==64){const x=g<<6&192|w;o.push(x)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class m0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pm=function(i){const t=hm(i);return sc.encodeByteArray(t,!0)},jo=function(i){return pm(i).replace(/\./g,"")},Ou=function(i){try{return sc.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){return mm(void 0,i)}function mm(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!_0(r)||(i[r]=mm(i[r],t[r]));return i}function _0(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=()=>y0().__FIREBASE_DEFAULTS__,w0=()=>{if(typeof process>"u"||typeof Zh>"u")return;const i=Zh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},E0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Ou(i[1]);return t&&JSON.parse(t)},gm=()=>{try{return v0()||w0()||E0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},C0=i=>{var t,r;return(r=(t=gm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},S0=i=>{const t=C0(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},_m=()=>{var i;return(i=gm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jo(JSON.stringify(r)),jo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ym(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x0())}function I0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T0(){return fm.NODE_ADMIN===!0}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function R0(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="FirebaseError";class ms extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=P0,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vm.prototype.create)}}class vm{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?D0(u,o):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new ms(l,h,o)}}function D0(i,t){return i.replace(O0,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const O0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(i){return JSON.parse(i)}function Ke(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=function(i){let t={},r={},o={},l="";try{const u=i.split(".");t=ts(Ou(u[0])||""),r=ts(Ou(u[1])||""),l=u[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:l}},A0=function(i){const t=wm(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},L0=function(i){const t=wm(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function $r(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function ep(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Uo(i,t,r){const o={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=t.call(r,i[l],l,i));return o}function Au(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const u=i[l],d=t[l];if(tp(u)&&tp(d)){if(!Au(u,d))return!1}else if(u!==d)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function tp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const v=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,E;for(let w=0;w<80;w++){w<40?w<20?(g=h^u&(d^h),E=1518500249):(g=u^d^h,E=1859775393):w<60?(g=u&d|h&(u|d),E=2400959708):(g=u^d^h,E=3395469782);const v=(l<<5|l>>>27)+g+p+E+o[w]&4294967295;p=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<r;){if(d===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<r;)if(u[d]=t.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<r;)if(u[d]=t[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)t[o]=this.chain_[l]>>u&255,++o;return t}}function ol(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);if(l>=55296&&l<=56319){const u=l-55296;o++,j(o<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(o)-56320;l=65536+(u<<10)+d}l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):l<65536?(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},ll=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(i){return i&&i._delegate?i._delegate:i}class ns{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new ps;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(U0(t))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});o.resolve(u)}catch{}}}}clearInstance(t=tr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=tr){return this.instances.has(t)}getOptions(t=tr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);o===h&&d.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;u.add(t),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&t(d,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:j0(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=tr){return this.component?this.component.multipleInstances?t:tr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j0(i){return i===tr?void 0:i}function U0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new z0(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ve||(ve={}));const W0={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},$0=ve.INFO,H0={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},V0=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),l=H0[t];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=$0,this._logHandler=V0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?W0[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const G0=(i,t)=>t.some(r=>i instanceof r);let np,rp;function Q0(){return np||(np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K0(){return rp||(rp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cm=new WeakMap,Lu=new WeakMap,Sm=new WeakMap,vu=new WeakMap,oc=new WeakMap;function Y0(i){const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{r(Ln(i.result)),l()},d=()=>{o(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&Cm.set(r,i)}).catch(()=>{}),oc.set(t,i),t}function q0(i){if(Lu.has(i))return;const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{r(),l()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Lu.set(i,t)}let Mu={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Lu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Sm.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ln(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function X0(i){Mu=i(Mu)}function J0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(wu(this),t,...r);return Sm.set(o,t.sort?t.sort():[t]),Ln(o)}:K0().includes(i)?function(...t){return i.apply(wu(this),t),Ln(Cm.get(this))}:function(...t){return Ln(i.apply(wu(this),t))}}function Z0(i){return typeof i=="function"?J0(i):(i instanceof IDBTransaction&&q0(i),G0(i,Q0())?new Proxy(i,Mu):i)}function Ln(i){if(i instanceof IDBRequest)return Y0(i);if(vu.has(i))return vu.get(i);const t=Z0(i);return t!==i&&(vu.set(i,t),oc.set(t,i)),t}const wu=i=>oc.get(i);function ew(i,t,{blocked:r,upgrade:o,blocking:l,terminated:u}={}){const d=indexedDB.open(i,t),h=Ln(d);return o&&d.addEventListener("upgradeneeded",p=>{o(Ln(d.result),p.oldVersion,p.newVersion,Ln(d.transaction),p)}),r&&d.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const tw=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],Eu=new Map;function ip(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Eu.get(t))return Eu.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=nw.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||tw.includes(r)))return;const u=async function(d,...h){const p=this.transaction(d,l?"readwrite":"readonly");let g=p.store;return o&&(g=g.index(h.shift())),(await Promise.all([g[r](...h),l&&p.done]))[0]};return Eu.set(t,u),u}X0(i=>({...i,get:(t,r,o)=>ip(t,r)||i.get(t,r,o),has:(t,r)=>!!ip(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(iw(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function iw(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fu="@firebase/app",sp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Em("@firebase/app"),sw="@firebase/app-compat",ow="@firebase/analytics-compat",lw="@firebase/analytics",aw="@firebase/app-check-compat",uw="@firebase/app-check",cw="@firebase/auth",dw="@firebase/auth-compat",fw="@firebase/database",hw="@firebase/data-connect",pw="@firebase/database-compat",mw="@firebase/functions",gw="@firebase/functions-compat",_w="@firebase/installations",yw="@firebase/installations-compat",vw="@firebase/messaging",ww="@firebase/messaging-compat",Ew="@firebase/performance",Cw="@firebase/performance-compat",Sw="@firebase/remote-config",kw="@firebase/remote-config-compat",xw="@firebase/storage",Iw="@firebase/storage-compat",Tw="@firebase/firestore",Nw="@firebase/vertexai",Rw="@firebase/firestore-compat",Pw="firebase",Dw="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="[DEFAULT]",Ow={[Fu]:"fire-core",[sw]:"fire-core-compat",[lw]:"fire-analytics",[ow]:"fire-analytics-compat",[uw]:"fire-app-check",[aw]:"fire-app-check-compat",[cw]:"fire-auth",[dw]:"fire-auth-compat",[fw]:"fire-rtdb",[hw]:"fire-data-connect",[pw]:"fire-rtdb-compat",[mw]:"fire-fn",[gw]:"fire-fn-compat",[_w]:"fire-iid",[yw]:"fire-iid-compat",[vw]:"fire-fcm",[ww]:"fire-fcm-compat",[Ew]:"fire-perf",[Cw]:"fire-perf-compat",[Sw]:"fire-rc",[kw]:"fire-rc-compat",[xw]:"fire-gcs",[Iw]:"fire-gcs-compat",[Tw]:"fire-fst",[Rw]:"fire-fst-compat",[Nw]:"fire-vertex","fire-js":"fire-js",[Pw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,Aw=new Map,zu=new Map;function op(i,t){try{i.container.addComponent(t)}catch(r){dn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Wo(i){const t=i.name;if(zu.has(t))return dn.debug(`There were multiple attempts to register component ${t}.`),!1;zu.set(t,i);for(const r of Bo.values())op(r,i);for(const r of Aw.values())op(r,i);return!0}function Lw(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mn=new vm("app","Firebase",Mw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=Dw;function km(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:bu,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw Mn.create("bad-app-name",{appName:String(l)});if(r||(r=_m()),!r)throw Mn.create("no-options");const u=Bo.get(l);if(u){if(Au(r,u.options)&&Au(o,u.config))return u;throw Mn.create("duplicate-app",{appName:l})}const d=new B0(l);for(const p of zu.values())d.addComponent(p);const h=new Fw(r,o,d);return Bo.set(l,h),h}function zw(i=bu){const t=Bo.get(i);if(!t&&i===bu&&_m())return km();if(!t)throw Mn.create("no-app",{appName:i});return t}function jr(i,t,r){var o;let l=(o=Ow[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const u=l.match(/\s|\//),d=t.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${t}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dn.warn(h.join(" "));return}Wo(new ns(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebase-heartbeat-database",Uw=1,rs="firebase-heartbeat-store";let Cu=null;function xm(){return Cu||(Cu=ew(jw,Uw,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(rs)}catch(r){console.warn(r)}}}}).catch(i=>{throw Mn.create("idb-open",{originalErrorMessage:i.message})})),Cu}async function Bw(i){try{const r=(await xm()).transaction(rs),o=await r.objectStore(rs).get(Im(i));return await r.done,o}catch(t){if(t instanceof ms)dn.warn(t.message);else{const r=Mn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});dn.warn(r.message)}}}async function lp(i,t){try{const o=(await xm()).transaction(rs,"readwrite");await o.objectStore(rs).put(t,Im(i)),await o.done}catch(r){if(r instanceof ms)dn.warn(r.message);else{const o=Mn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});dn.warn(o.message)}}}function Im(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=1024,$w=30*24*60*60*1e3;class Hw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Gw(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ap();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=$w}),this._storage.overwrite(this._heartbeatsCache))}catch(o){dn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ap(),{heartbeatsToSend:o,unsentEntries:l}=Vw(this._heartbeatsCache.heartbeats),u=jo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return dn.warn(r),""}}}function ap(){return new Date().toISOString().substring(0,10)}function Vw(i,t=Ww){const r=[];let o=i.slice();for(const l of i){const u=r.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),up(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),up(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Gw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?R0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Bw(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return lp(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return lp(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function up(i){return jo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i){Wo(new ns("platform-logger",t=>new rw(t),"PRIVATE")),Wo(new ns("heartbeat",t=>new Hw(t),"PRIVATE")),jr(Fu,sp,i),jr(Fu,sp,"esm2017"),jr("fire-js","")}Qw("");var Kw="firebase",Yw="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(Kw,Yw,"app");var cp={};const dp="@firebase/database",fp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm="";function qw(i){Tm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ke(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:ts(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Jt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Xw(t)}}catch{}return new Jw},rr=Nm("localStorage"),Zw=Nm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Em("@firebase/database"),eE=function(){let i=1;return function(){return i++}}(),Rm=function(i){const t=b0(i),r=new F0;r.update(t);const o=r.digest();return sc.encodeByteArray(o)},gs=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=gs.apply(null,o):typeof o=="object"?t+=Ke(o):t+=o,t+=" "}return t};let Yi=null,hp=!0;const tE=function(i,t){j(!0,"Can't turn on custom loggers persistently."),Ur.logLevel=ve.VERBOSE,Yi=Ur.log.bind(Ur)},Xe=function(...i){if(hp===!0&&(hp=!1,Yi===null&&Zw.get("logging_enabled")===!0&&tE()),Yi){const t=gs.apply(null,i);Yi(t)}},_s=function(i){return function(...t){Xe(i,...t)}},ju=function(...i){const t="FIREBASE INTERNAL ERROR: "+gs(...i);Ur.error(t)},fn=function(...i){const t=`FIREBASE FATAL ERROR: ${gs(...i)}`;throw Ur.error(t),new Error(t)},lt=function(...i){const t="FIREBASE WARNING: "+gs(...i);Ur.warn(t)},nE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lc=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},rE=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Hr="[MIN_NAME]",sr="[MAX_NAME]",cr=function(i,t){if(i===t)return 0;if(i===Hr||t===sr)return-1;if(t===Hr||i===sr)return 1;{const r=pp(i),o=pp(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},iE=function(i,t){return i===t?0:i<t?-1:1},Hi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Ke(t))},ac=function(i){if(typeof i!="object"||i===null)return Ke(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Ke(t[o]),r+=":",r+=ac(i[t[o]]);return r+="}",r},Pm=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let l=0;l<r;l+=t)l+t>r?o.push(i.substring(l,r)):o.push(i.substring(l,l+t));return o};function Je(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Dm=function(i){j(!lc(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let l,u,d,h,p;i===0?(u=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),o),u=h+o,d=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,d=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(p=r;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=t;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const E=g.join("");let w="";for(p=0;p<64;p+=8){let v=parseInt(E.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),w=w+v}return w.toLowerCase()},sE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},oE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lE(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const aE=new RegExp("^-?(0*)\\d{1,10}$"),uE=-2147483648,cE=2147483647,pp=function(i){if(aE.test(i)){const t=Number(i);if(t>=uE&&t<=cE)return t}return null},Zr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw lt("Exception was thrown by user callback.",r),t},Math.floor(0))}},dE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qi=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(t)}}class bo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}bo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="5",Om="v",Am="s",Lm="r",Mm="f",Fm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bm="ls",zm="p",Uu="ac",jm="websocket",Um="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,r,o,l,u=!1,d="",h=!1,p=!1){this.secure=r,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&rr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function pE(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Wm(i,t,r){j(typeof t=="string","typeof type must == string"),j(typeof r=="object","typeof params must == object");let o;if(t===jm)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Um)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);pE(i)&&(r.ns=i.namespace);const l=[];return Je(r,(u,d)=>{l.push(u+"="+d)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.counters_={}}incrementCounter(t,r=1){Jt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return g0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su={},ku={};function cc(i){const t=i.toString();return Su[t]||(Su[t]=new mE),Su[t]}function gE(i,t){const r=i.toString();return ku[r]||(ku[r]=t()),ku[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Zr(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="start",yE="close",vE="pLPCommand",wE="pRTLPCB",$m="id",Hm="pw",Vm="ser",EE="cb",CE="seg",SE="ts",kE="d",xE="dframe",Gm=1870,Qm=30,IE=Gm-Qm,TE=25e3,NE=3e4;class zr{constructor(t,r,o,l,u,d,h){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_s(t),this.stats_=cc(r),this.urlFn=p=>(this.appCheckToken&&(p[Uu]=this.appCheckToken),Wm(r,Um,p))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new _E(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NE)),rE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dc((...u)=>{const[d,h,p,g,E]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===mp)this.id=h,this.password=p;else if(d===yE)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[mp]="t",o[Vm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[EE]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Om]=uc,this.transportSessionId&&(o[Am]=this.transportSessionId),this.lastSessionId&&(o[bm]=this.lastSessionId),this.applicationId&&(o[zm]=this.applicationId),this.appCheckToken&&(o[Uu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fm.test(location.hostname)&&(o[Lm]=Mm);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zr.forceAllow_=!0}static forceDisallow(){zr.forceDisallow_=!0}static isAvailable(){return zr.forceAllow_?!0:!zr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sE()&&!oE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Ke(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=pm(r),l=Pm(o,IE);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[xE]="t",o[$m]=t,o[Hm]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Ke(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class dc{constructor(t,r,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eE(),window[vE+this.uniqueCallbackIdentifier]=t,window[wE+this.uniqueCallbackIdentifier]=r,this.myIFrame=dc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){Xe("frame writing exception"),h.stack&&Xe(h.stack),Xe(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Xe("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[$m]=this.myID,t[Hm]=this.myPW,t[Vm]=this.currentSerial;let r=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Qm+o.length<=Gm;){const d=this.pendingSegs.shift();o=o+"&"+CE+l+"="+d.seg+"&"+SE+l+"="+d.ts+"&"+kE+l+"="+d.d,l++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(o,Math.floor(TE)),u=()=>{clearTimeout(l),o()};this.addTag(t,u)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Xe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=16384,PE=45e3;let $o=null;typeof MozWebSocket<"u"?$o=MozWebSocket:typeof WebSocket<"u"&&($o=WebSocket);class Yt{constructor(t,r,o,l,u,d,h){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_s(this.connId),this.stats_=cc(r),this.connURL=Yt.connectionURL_(r,d,h,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,l,u){const d={};return d[Om]=uc,typeof location<"u"&&location.hostname&&Fm.test(location.hostname)&&(d[Lm]=Mm),r&&(d[Am]=r),o&&(d[bm]=o),l&&(d[Uu]=l),u&&(d[zm]=u),Wm(t,jm,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rr.set("previous_websocket_failure",!0);try{let o;T0(),this.mySock=new $o(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&$o!==null&&!Yt.forceDisallow_}static previouslyFailed(){return rr.isInMemoryStorage||rr.get("previous_websocket_failure")===!0}markConnectionHealthy(){rr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=ts(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(j(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Ke(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Pm(r,RE);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PE))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{static get ALL_TRANSPORTS(){return[zr,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Yt.isAvailable();let o=r&&!Yt.previouslyFailed();if(t.webSocketOnly&&(r||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Yt];else{const l=this.transports_=[];for(const u of is.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);is.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}is.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=6e4,OE=5e3,AE=10*1024,LE=100*1024,xu="t",gp="d",ME="s",_p="r",FE="e",yp="o",vp="a",wp="n",Ep="p",bE="h";class zE{constructor(t,r,o,l,u,d,h,p,g,E){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_s("c:"+this.id+":"),this.transportManager_=new is(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=qi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(xu in t){const r=t[xu];r===vp?this.upgradeIfSecondaryHealthy_():r===_p?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===yp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Hi("t",t),o=Hi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ep,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Hi("t",t),o=Hi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Hi(xu,t);if(gp in t){const o=t[gp];if(r===bE){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===wp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===ME?this.onConnectionShutdown_(o):r===_p?this.onReset_(o):r===FE?ju("Server Error: "+o):r===yp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ju("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),uc!==o&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),qi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(OE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ep,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{put(t,r,o,l){}merge(t,r,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t){this.allowedEvents_=t,this.listeners_={},j(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const l=this.getInitialEvent(t);l&&r.apply(o,l)}off(t,r,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!o||o===l[u].context)){l.splice(u,1);return}}validateEventType_(t){j(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Ym{static getInstance(){return new Ho}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ym()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return j(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=32,Sp=768;class ge{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function fe(){return new ge("")}function oe(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function zn(i){return i.pieces_.length-i.pieceNum_}function we(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ge(i.pieces_,t)}function fc(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function jE(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function ss(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function qm(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ge(t,0)}function Le(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ge)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&r.push(o[l])}return new ge(r,0)}function ae(i){return i.pieceNum_>=i.pieces_.length}function pt(i,t){const r=oe(i),o=oe(t);if(r===null)return t;if(r===o)return pt(we(i),we(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function UE(i,t){const r=ss(i,0),o=ss(t,0);for(let l=0;l<r.length&&l<o.length;l++){const u=cr(r[l],o[l]);if(u!==0)return u}return r.length===o.length?0:r.length<o.length?-1:1}function hc(i,t){if(zn(i)!==zn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Dt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(zn(i)>zn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class BE{constructor(t,r){this.errorPrefix_=r,this.parts_=ss(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=ll(this.parts_[o]);Xm(this)}}function WE(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=ll(t),Xm(i)}function $E(i){const t=i.parts_.pop();i.byteLength_-=ll(t),i.parts_.length>0&&(i.byteLength_-=1)}function Xm(i){if(i.byteLength_>Sp)throw new Error(i.errorPrefix_+"has a key path longer than "+Sp+" bytes ("+i.byteLength_+").");if(i.parts_.length>Cp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cp+") or object contains a cycle "+nr(i))}function nr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Ym{static getInstance(){return new pc}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return j(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=1e3,HE=60*5*1e3,kp=30*1e3,VE=1.3,GE=3e4,QE="server_kill",xp=3;class cn extends Km{constructor(t,r,o,l,u,d,h,p){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=cn.nextPersistentConnectionId_++,this.log_=_s("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vi,this.maxReconnectDelay_=HE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ho.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const l=++this.requestNumber_,u={r:l,a:t,b:r};this.log_(Ke(u)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const r=new ps,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(t,r,o,l){this.initConnection_();const u=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),j(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:t,tag:o};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const u={p:o},d="q";t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(d,u,h=>{const p=h.d,g=h.s;cn.warnOnListenWarnings_(p,r),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Jt(t,"w")){const o=$r(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||L0(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=A0(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const u=l.s,d=l.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),j(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,r)}sendUnlisten_(t,r,o,l){this.log_("Unlisten on "+t+" for "+r);const u={p:t},d="n";l&&(u.q=o,u.t=l),this.sendRequest(d,u)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,l){const u={p:r,d:o};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(t,r,o,l){this.putInternal("p",t,r,o,l)}merge(t,r,o,l){this.putInternal("m",t,r,o,l)}putInternal(t,r,o,l,u){this.initConnection_();const d={p:r,d:o};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:t,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const u=o.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ke(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):ju("Unrecognized action received from server: "+Ke(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>GE&&(this.reconnectDelay_=Vi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+cn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const p=function(){h?h.close():(d=!0,o())},g=function(w){j(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(w)};this.realtime_={close:p,sendRequest:g};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,v]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);d?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=v&&v.token,h=new zE(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,N=>{lt(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(QE)},u))}catch(w){this.log_("Failed to get token: "+w),d||(this.repoInfo_.nodeAdmin&&lt(w),p())}}}interrupt(t){Xe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Xe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ep(this.interruptReasons_)&&(this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(u=>ac(u)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,r){const o=new ge(t).toString();let l;if(this.listens.has(o)){const u=this.listens.get(o);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,r){Xe("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xp&&(this.reconnectDelay_=kp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Xe("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Tm.replace(/\./g,"-")]=1,ym()?t["framework.cordova"]=1:I0()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ho.getInstance().currentlyOnline();return ep(this.interruptReasons_)&&t}}cn.nextPersistentConnectionId_=0;cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new le(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new le(Hr,t),l=new le(Hr,r);return this.compare(o,l)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao;class Jm extends al{static get __EMPTY_NODE(){return Ao}static set __EMPTY_NODE(t){Ao=t}compare(t,r){return cr(t.name,r.name)}isDefinedOn(t){throw Xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return le.MIN}maxPost(){return new le(sr,Ao)}makePost(t,r){return j(typeof t=="string","KeyIndex indexValue must always be a string."),new le(t,Ao)}toString(){return".key"}}const Br=new Jm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,r,o,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=r?o(t.key,r):1,l&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ge{constructor(t,r,o,l,u){this.key=t,this.value=r,this.color=o??Ge.RED,this.left=l??mt.EMPTY_NODE,this.right=u??mt.EMPTY_NODE}copy(t,r,o,l,u){return new Ge(t??this.key,r??this.value,o??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const u=o(t,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(t,r,o),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return mt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,l;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return mt.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ge.RED=!0;Ge.BLACK=!1;class KE{copy(t,r,o,l,u){return this}insert(t,r,o){return new Ge(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class mt{constructor(t,r=mt.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new mt(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Ge.BLACK,null,null))}remove(t){return new mt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ge.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,l=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Lo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new Lo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new Lo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new Lo(this.root_,null,this.comparator_,!0,t)}}mt.EMPTY_NODE=new KE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i,t){return cr(i.name,t.name)}function mc(i,t){return cr(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;function qE(i){Bu=i}const Zm=function(i){return typeof i=="number"?"number:"+Dm(i):"string:"+i},eg=function(i){if(i.isLeafNode()){const t=i.val();j(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Jt(t,".sv"),"Priority must be a string or number.")}else j(i===Bu||i.isEmpty(),"priority of unexpected type.");j(i===Bu||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip;class Ve{static set __childrenNodeConstructor(t){Ip=t}static get __childrenNodeConstructor(){return Ip}constructor(t,r=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),eg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ve(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ae(t)?this:oe(t)===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=oe(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(j(o!==".priority"||zn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Zm(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Dm(this.value_):t+=this.value_,this.lazyHash_=Rm(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ve.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ve.__childrenNodeConstructor?-1:(j(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,l=Ve.VALUE_TYPE_ORDER.indexOf(r),u=Ve.VALUE_TYPE_ORDER.indexOf(o);return j(l>=0,"Unknown leaf type: "+r),j(u>=0,"Unknown leaf type: "+o),l===u?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg,ng;function XE(i){tg=i}function JE(i){ng=i}class ZE extends al{compare(t,r){const o=t.node.getPriority(),l=r.node.getPriority(),u=o.compareTo(l);return u===0?cr(t.name,r.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return le.MIN}maxPost(){return new le(sr,new Ve("[PRIORITY-POST]",ng))}makePost(t,r){const o=tg(t);return new le(r,new Ve("[PRIORITY-POST]",o))}toString(){return".priority"}}const Me=new ZE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=Math.log(2);class tC{constructor(t){const r=u=>parseInt(Math.log(u)/eC,10),o=u=>parseInt(Array(u+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Vo=function(i,t,r,o){i.sort(t);const l=function(p,g){const E=g-p;let w,v;if(E===0)return null;if(E===1)return w=i[p],v=r?r(w):w,new Ge(v,w.node,Ge.BLACK,null,null);{const N=parseInt(E/2,10)+p,x=l(p,N),D=l(N+1,g);return w=i[N],v=r?r(w):w,new Ge(v,w.node,Ge.BLACK,x,D)}},u=function(p){let g=null,E=null,w=i.length;const v=function(x,D){const O=w-x,z=w;w-=x;const U=l(O+1,z),ee=i[O],re=r?r(ee):ee;N(new Ge(re,ee.node,D,null,U))},N=function(x){g?(g.left=x,g=x):(E=x,g=x)};for(let x=0;x<p.count;++x){const D=p.nextBitIsOne(),O=Math.pow(2,p.count-(x+1));D?v(O,Ge.BLACK):(v(O,Ge.BLACK),v(O,Ge.RED))}return E},d=new tC(i.length),h=u(d);return new mt(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;const Gi={};class an{static get Default(){return j(Me,"ChildrenNode.ts has not been loaded"),Iu=Iu||new an({".priority":Gi},{".priority":Me}),Iu}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=$r(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof mt?r:null}hasIndex(t){return Jt(this.indexSet_,t.toString())}addIndex(t,r){j(t!==Br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const u=r.getIterator(le.Wrap);let d=u.getNext();for(;d;)l=l||t.isDefinedOn(d.node),o.push(d),d=u.getNext();let h;l?h=Vo(o,t.getCompare()):h=Gi;const p=t.toString(),g=Object.assign({},this.indexSet_);g[p]=t;const E=Object.assign({},this.indexes_);return E[p]=h,new an(E,g)}addToIndexes(t,r){const o=Uo(this.indexes_,(l,u)=>{const d=$r(this.indexSet_,u);if(j(d,"Missing index implementation for "+u),l===Gi)if(d.isDefinedOn(t.node)){const h=[],p=r.getIterator(le.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&h.push(g),g=p.getNext();return h.push(t),Vo(h,d.getCompare())}else return Gi;else{const h=r.get(t.name);let p=l;return h&&(p=p.remove(new le(t.name,h))),p.insert(t,t.node)}});return new an(o,this.indexSet_)}removeFromIndexes(t,r){const o=Uo(this.indexes_,l=>{if(l===Gi)return l;{const u=r.get(t.name);return u?l.remove(new le(t.name,u)):l}});return new an(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qi;class Z{static get EMPTY_NODE(){return Qi||(Qi=new Z(new mt(mc),null,an.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&eg(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qi}updatePriority(t){return this.children_.isEmpty()?this:new Z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Qi:r}}getChild(t){const r=oe(t);return r===null?this:this.getImmediateChild(r).getChild(we(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(j(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new le(t,r);let l,u;r.isEmpty()?(l=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(o,this.children_));const d=l.isEmpty()?Qi:this.priorityNode_;return new Z(l,d,u)}}updateChild(t,r){const o=oe(t);if(o===null)return r;{j(oe(t)!==".priority"||zn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(we(t),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,l=0,u=!0;if(this.forEachChild(Me,(d,h)=>{r[d]=h.val(t),o++,u&&Z.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!t&&u&&l<2*o){const d=[];for(const h in r)d[h]=r[h];return d}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Zm(this.getPriority().val())+":"),this.forEachChild(Me,(r,o)=>{const l=o.hash();l!==""&&(t+=":"+r+":"+l)}),this.lazyHash_=t===""?"":Rm(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const l=this.resolveIndex_(o);if(l){const u=l.getPredecessorKey(new le(t,r));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new le(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new le(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,le.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,t)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,le.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,t)>0;)l.getNext(),u=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ys?-1:0}withIndex(t){if(t===Br||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new Z(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Br||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Me),l=r.getIterator(Me);let u=o.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=o.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===Br?null:this.indexMap_.get(t.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class nC extends Z{constructor(){super(new mt(mc),Z.EMPTY_NODE,an.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Z.EMPTY_NODE}isEmpty(){return!1}}const ys=new nC;Object.defineProperties(le,{MIN:{value:new le(Hr,Z.EMPTY_NODE)},MAX:{value:new le(sr,ys)}});Jm.__EMPTY_NODE=Z.EMPTY_NODE;Ve.__childrenNodeConstructor=Z;qE(ys);JE(ys);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=!0;function Qe(i,t=null){if(i===null)return Z.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),j(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Ve(r,Qe(t))}if(!(i instanceof Array)&&rC){const r=[];let o=!1;if(Je(i,(d,h)=>{if(d.substring(0,1)!=="."){const p=Qe(h);p.isEmpty()||(o=o||!p.getPriority().isEmpty(),r.push(new le(d,p)))}}),r.length===0)return Z.EMPTY_NODE;const u=Vo(r,YE,d=>d.name,mc);if(o){const d=Vo(r,Me.getCompare());return new Z(u,Qe(t),new an({".priority":d},{".priority":Me}))}else return new Z(u,Qe(t),an.Default)}else{let r=Z.EMPTY_NODE;return Je(i,(o,l)=>{if(Jt(i,o)&&o.substring(0,1)!=="."){const u=Qe(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(o,u))}}),r.updatePriority(Qe(t))}}XE(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends al{constructor(t){super(),this.indexPath_=t,j(!ae(t)&&oe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),l=this.extractChild(r.node),u=o.compareTo(l);return u===0?cr(t.name,r.name):u}makePost(t,r){const o=Qe(t),l=Z.EMPTY_NODE.updateChild(this.indexPath_,o);return new le(r,l)}maxPost(){const t=Z.EMPTY_NODE.updateChild(this.indexPath_,ys);return new le(sr,t)}toString(){return ss(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends al{compare(t,r){const o=t.node.compareTo(r.node);return o===0?cr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(t,r){const o=Qe(t);return new le(r,o)}toString(){return".value"}}const oC=new sC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i){return{type:"value",snapshotNode:i}}function Vr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function os(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function ls(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function lC(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t){this.index_=t}updateChild(t,r,o,l,u,d){j(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(r);return h.getChild(l).equals(o.getChild(l))&&h.isEmpty()===o.isEmpty()||(d!=null&&(o.isEmpty()?t.hasChild(r)?d.trackChildChange(os(r,h)):j(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Vr(r,o)):d.trackChildChange(ls(r,o,h))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Me,(l,u)=>{r.hasChild(l)||o.trackChildChange(os(l,u))}),r.isLeafNode()||r.forEachChild(Me,(l,u)=>{if(t.hasChild(l)){const d=t.getImmediateChild(l);d.equals(u)||o.trackChildChange(ls(l,u,d))}else o.trackChildChange(Vr(l,u))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?Z.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this.indexedFilter_=new gc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=as.getStartPost_(t),this.endPost_=as.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,l,u,d){return this.matches(new le(r,o))||(o=Z.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,l,u,d)}updateFullNode(t,r,o){r.isLeafNode()&&(r=Z.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(Z.EMPTY_NODE);const u=this;return r.forEachChild(Me,(d,h)=>{u.matches(new le(d,h))||(l=l.updateImmediateChild(d,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new as(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,l,u,d){return this.rangedFilter_.matches(new le(r,o))||(o=Z.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,l,u,d):this.fullLimitUpdateChild_(t,r,o,u,d)}updateFullNode(t,r,o){let l;if(r.isLeafNode()||r.isEmpty())l=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=Z.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(Z.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,l,u){let d;if(this.reverse_){const w=this.index_.getCompare();d=(v,N)=>w(N,v)}else d=this.index_.getCompare();const h=t;j(h.numChildren()===this.limit_,"");const p=new le(r,o),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(r)){const w=h.getImmediateChild(r);let v=l.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===r||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const N=v==null?1:d(v,p);if(E&&!o.isEmpty()&&N>=0)return u!=null&&u.trackChildChange(ls(r,o,w)),h.updateImmediateChild(r,o);{u!=null&&u.trackChildChange(os(r,w));const D=h.updateImmediateChild(r,Z.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(Vr(v.name,v.node)),D.updateImmediateChild(v.name,v.node)):D}}else return o.isEmpty()?t:E&&d(g,p)>=0?(u!=null&&(u.trackChildChange(os(g.name,g.node)),u.trackChildChange(Vr(r,o))),h.updateImmediateChild(r,o).updateImmediateChild(g.name,Z.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hr}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const t=new _c;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function uC(i){return i.loadsAllData()?new gc(i.getIndex()):i.hasLimit()?new aC(i):new as(i)}function Tp(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Me?r="$priority":i.index_===oC?r="$value":i.index_===Br?r="$key":(j(i.index_ instanceof iC,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Ke(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Ke(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Ke(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Ke(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Ke(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Np(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Me&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Km{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(j(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=_s("p:rest:"),this.listens_={}}listen(t,r,o,l){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const d=Go.getListenId_(t,o),h={};this.listens_[d]=h;const p=Tp(t._queryParams);this.restRequest_(u+".json",p,(g,E)=>{let w=E;if(g===404&&(w=null,g=null),g===null&&this.onDataUpdate_(u,w,!1,o),$r(this.listens_,d)===h){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",l(v,null)}})}unlisten(t,r){const o=Go.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Tp(t._queryParams),o=t._path.toString(),l=new ps;return this.restRequest_(o+".json",r,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(o,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+M0(r);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ts(h.responseText)}catch{lt("Failed to parse JSON response for "+d+": "+h.responseText)}o(null,p)}else h.status!==401&&h.status!==404&&lt("Got unsuccessful REST response for "+d+" Status: "+h.status),o(h.status);o=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(){return{value:null,children:new Map}}function ig(i,t,r){if(ae(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=oe(t);i.children.has(o)||i.children.set(o,Qo());const l=i.children.get(o);t=we(t),ig(l,t,r)}}function Wu(i,t,r){i.value!==null?r(t,i.value):dC(i,(o,l)=>{const u=new ge(t.toString()+"/"+o);Wu(l,u,r)})}function dC(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Je(this.last_,(o,l)=>{r[o]=r[o]-l}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=10*1e3,hC=30*1e3,pC=5*60*1e3;class mC{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new fC(t);const o=Rp+(hC-Rp)*Math.random();qi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;Je(t,(l,u)=>{u>0&&Jt(this.statsToReport_,l)&&(r[l]=u,o=!0)}),o&&this.server_.reportStats(r),qi(this.reportStats_.bind(this),Math.floor(Math.random()*2*pC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jt||(jt={}));function yc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wc(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=jt.ACK_USER_WRITE,this.source=yc()}operationForChild(t){if(ae(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ge(t));return new Ko(fe(),r,this.revert)}}else return j(oe(this.path)===t,"operationForChild called for unrelated child."),new Ko(we(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,r){this.source=t,this.path=r,this.type=jt.LISTEN_COMPLETE}operationForChild(t){return ae(this.path)?new us(this.source,fe()):new us(this.source,we(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=jt.OVERWRITE}operationForChild(t){return ae(this.path)?new or(this.source,fe(),this.snap.getImmediateChild(t)):new or(this.source,we(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=jt.MERGE}operationForChild(t){if(ae(this.path)){const r=this.children.subtree(new ge(t));return r.isEmpty()?null:r.value?new or(this.source,fe(),r.value):new Gr(this.source,fe(),r)}else return j(oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Gr(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ae(t))return this.isFullyInitialized()&&!this.filtered_;const r=oe(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function _C(i,t,r,o){const l=[],u=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(lC(d.childName,d.snapshotNode))}),Ki(i,l,"child_removed",t,o,r),Ki(i,l,"child_added",t,o,r),Ki(i,l,"child_moved",u,o,r),Ki(i,l,"child_changed",t,o,r),Ki(i,l,"value",t,o,r),l}function Ki(i,t,r,o,l,u){const d=o.filter(h=>h.type===r);d.sort((h,p)=>vC(i,h,p)),d.forEach(h=>{const p=yC(i,h,u);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(p,i.query_))})})}function yC(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function vC(i,t,r){if(t.childName==null||r.childName==null)throw Xr("Should only compare child_ events.");const o=new le(t.childName,t.snapshotNode),l=new le(r.childName,r.snapshotNode);return i.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(i,t){return{eventCache:i,serverCache:t}}function Xi(i,t,r,o){return ul(new lr(t,r,o),i.serverCache)}function sg(i,t,r,o){return ul(i.eventCache,new lr(t,r,o))}function $u(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ar(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;const wC=()=>(Tu||(Tu=new mt(iE)),Tu);class ye{static fromObject(t){let r=new ye(null);return Je(t,(o,l)=>{r=r.set(new ge(o),l)}),r}constructor(t,r=wC()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:fe(),value:this.value};if(ae(t))return null;{const o=oe(t),l=this.children.get(o);if(l!==null){const u=l.findRootMostMatchingPathAndValue(we(t),r);return u!=null?{path:Le(new ge(o),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ae(t))return this;{const r=oe(t),o=this.children.get(r);return o!==null?o.subtree(we(t)):new ye(null)}}set(t,r){if(ae(t))return new ye(r,this.children);{const o=oe(t),u=(this.children.get(o)||new ye(null)).set(we(t),r),d=this.children.insert(o,u);return new ye(this.value,d)}}remove(t){if(ae(t))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const r=oe(t),o=this.children.get(r);if(o){const l=o.remove(we(t));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new ye(null):new ye(this.value,u)}else return this}}get(t){if(ae(t))return this.value;{const r=oe(t),o=this.children.get(r);return o?o.get(we(t)):null}}setTree(t,r){if(ae(t))return r;{const o=oe(t),u=(this.children.get(o)||new ye(null)).setTree(we(t),r);let d;return u.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,u),new ye(this.value,d)}}fold(t){return this.fold_(fe(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((l,u)=>{o[l]=u.fold_(Le(t,l),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,fe(),r)}findOnPath_(t,r,o){const l=this.value?o(r,this.value):!1;if(l)return l;if(ae(t))return null;{const u=oe(t),d=this.children.get(u);return d?d.findOnPath_(we(t),Le(r,u),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,fe(),r)}foreachOnPath_(t,r,o){if(ae(t))return this;{this.value&&o(r,this.value);const l=oe(t),u=this.children.get(l);return u?u.foreachOnPath_(we(t),Le(r,l),o):new ye(null)}}foreach(t){this.foreach_(fe(),t)}foreach_(t,r){this.children.inorderTraversal((o,l)=>{l.foreach_(Le(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.writeTree_=t}static empty(){return new Ut(new ye(null))}}function Ji(i,t,r){if(ae(t))return new Ut(new ye(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let u=o.value;const d=pt(l,t);return u=u.updateChild(d,r),new Ut(i.writeTree_.set(l,u))}else{const l=new ye(r),u=i.writeTree_.setTree(t,l);return new Ut(u)}}}function Hu(i,t,r){let o=i;return Je(r,(l,u)=>{o=Ji(o,Le(t,l),u)}),o}function Pp(i,t){if(ae(t))return Ut.empty();{const r=i.writeTree_.setTree(t,new ye(null));return new Ut(r)}}function Vu(i,t){return dr(i,t)!=null}function dr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(pt(r.path,t)):null}function Dp(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Me,(o,l)=>{t.push(new le(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new le(o,l.value))}),t}function Fn(i,t){if(ae(t))return i;{const r=dr(i,t);return r!=null?new Ut(new ye(r)):new Ut(i.writeTree_.subtree(t))}}function Gu(i){return i.writeTree_.isEmpty()}function Qr(i,t){return og(fe(),i.writeTree_,t)}function og(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,u)=>{l===".priority"?(j(u.value!==null,"Priority writes must always be leaf nodes"),o=u.value):r=og(Le(i,l),u,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Le(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(i,t){return cg(t,i)}function EC(i,t,r,o,l){j(o>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:l}),l&&(i.visibleWrites=Ji(i.visibleWrites,t,r)),i.lastWriteId=o}function CC(i,t,r,o){j(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:r,writeId:o,visible:!0}),i.visibleWrites=Hu(i.visibleWrites,t,r),i.lastWriteId=o}function SC(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function kC(i,t){const r=i.allWrites.findIndex(h=>h.writeId===t);j(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let l=o.visible,u=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=r&&xC(h,o.path)?l=!1:Dt(o.path,h.path)&&(u=!0)),d--}if(l){if(u)return IC(i),!0;if(o.snap)i.visibleWrites=Pp(i.visibleWrites,o.path);else{const h=o.children;Je(h,p=>{i.visibleWrites=Pp(i.visibleWrites,Le(o.path,p))})}return!0}else return!1}function xC(i,t){if(i.snap)return Dt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Dt(Le(i.path,r),t))return!0;return!1}function IC(i){i.visibleWrites=lg(i.allWrites,TC,fe()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function TC(i){return i.visible}function lg(i,t,r){let o=Ut.empty();for(let l=0;l<i.length;++l){const u=i[l];if(t(u)){const d=u.path;let h;if(u.snap)Dt(r,d)?(h=pt(r,d),o=Ji(o,h,u.snap)):Dt(d,r)&&(h=pt(d,r),o=Ji(o,fe(),u.snap.getChild(h)));else if(u.children){if(Dt(r,d))h=pt(r,d),o=Hu(o,h,u.children);else if(Dt(d,r))if(h=pt(d,r),ae(h))o=Hu(o,fe(),u.children);else{const p=$r(u.children,oe(h));if(p){const g=p.getChild(we(h));o=Ji(o,fe(),g)}}}else throw Xr("WriteRecord should have .snap or .children")}}return o}function ag(i,t,r,o,l){if(!o&&!l){const u=dr(i.visibleWrites,t);if(u!=null)return u;{const d=Fn(i.visibleWrites,t);if(Gu(d))return r;if(r==null&&!Vu(d,fe()))return null;{const h=r||Z.EMPTY_NODE;return Qr(d,h)}}}else{const u=Fn(i.visibleWrites,t);if(!l&&Gu(u))return r;if(!l&&r==null&&!Vu(u,fe()))return null;{const d=function(g){return(g.visible||l)&&(!o||!~o.indexOf(g.writeId))&&(Dt(g.path,t)||Dt(t,g.path))},h=lg(i.allWrites,d,t),p=r||Z.EMPTY_NODE;return Qr(h,p)}}}function NC(i,t,r){let o=Z.EMPTY_NODE;const l=dr(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Me,(u,d)=>{o=o.updateImmediateChild(u,d)}),o;if(r){const u=Fn(i.visibleWrites,t);return r.forEachChild(Me,(d,h)=>{const p=Qr(Fn(u,new ge(d)),h);o=o.updateImmediateChild(d,p)}),Dp(u).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const u=Fn(i.visibleWrites,t);return Dp(u).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function RC(i,t,r,o,l){j(o||l,"Either existingEventSnap or existingServerSnap must exist");const u=Le(t,r);if(Vu(i.visibleWrites,u))return null;{const d=Fn(i.visibleWrites,u);return Gu(d)?l.getChild(r):Qr(d,l.getChild(r))}}function PC(i,t,r,o){const l=Le(t,r),u=dr(i.visibleWrites,l);if(u!=null)return u;if(o.isCompleteForChild(r)){const d=Fn(i.visibleWrites,l);return Qr(d,o.getNode().getImmediateChild(r))}else return null}function DC(i,t){return dr(i.visibleWrites,t)}function OC(i,t,r,o,l,u,d){let h;const p=Fn(i.visibleWrites,t),g=dr(p,fe());if(g!=null)h=g;else if(r!=null)h=Qr(p,r);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const E=[],w=d.getCompare(),v=u?h.getReverseIteratorFrom(o,d):h.getIteratorFrom(o,d);let N=v.getNext();for(;N&&E.length<l;)w(N,o)!==0&&E.push(N),N=v.getNext();return E}else return[]}function AC(){return{visibleWrites:Ut.empty(),allWrites:[],lastWriteId:-1}}function Yo(i,t,r,o){return ag(i.writeTree,i.treePath,t,r,o)}function Cc(i,t){return NC(i.writeTree,i.treePath,t)}function Op(i,t,r,o){return RC(i.writeTree,i.treePath,t,r,o)}function qo(i,t){return DC(i.writeTree,Le(i.treePath,t))}function LC(i,t,r,o,l,u){return OC(i.writeTree,i.treePath,t,r,o,l,u)}function Sc(i,t,r){return PC(i.writeTree,i.treePath,t,r)}function ug(i,t){return cg(Le(i.treePath,t),i.writeTree)}function cg(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;j(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),j(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(o,ls(o,t.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(o,os(o,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(o,Vr(o,t.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(o,ls(o,t.snapshotNode,l.oldSnap));else throw Xr("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const dg=new FC;class kc{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sc(this.writes_,t,o)}}getChildAfterChild(t,r,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ar(this.viewCache_),u=LC(this.writes_,l,r,1,o,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(i){return{filter:i}}function zC(i,t){j(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),j(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function jC(i,t,r,o,l){const u=new MC;let d,h;if(r.type===jt.OVERWRITE){const g=r;g.source.fromUser?d=Qu(i,t,g.path,g.snap,o,l,u):(j(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!ae(g.path),d=Xo(i,t,g.path,g.snap,o,l,h,u))}else if(r.type===jt.MERGE){const g=r;g.source.fromUser?d=BC(i,t,g.path,g.children,o,l,u):(j(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),d=Ku(i,t,g.path,g.children,o,l,h,u))}else if(r.type===jt.ACK_USER_WRITE){const g=r;g.revert?d=HC(i,t,g.path,o,l,u):d=WC(i,t,g.path,g.affectedTree,o,l,u)}else if(r.type===jt.LISTEN_COMPLETE)d=$C(i,t,r.path,o,u);else throw Xr("Unknown operation type: "+r.type);const p=u.getChanges();return UC(t,d,p),{viewCache:d,changes:p}}function UC(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),u=$u(i);(r.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(u)||!o.getNode().getPriority().equals(u.getPriority()))&&r.push(rg($u(t)))}}function fg(i,t,r,o,l,u){const d=t.eventCache;if(qo(o,r)!=null)return t;{let h,p;if(ae(r))if(j(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ar(t),E=g instanceof Z?g:Z.EMPTY_NODE,w=Cc(o,E);h=i.filter.updateFullNode(t.eventCache.getNode(),w,u)}else{const g=Yo(o,ar(t));h=i.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=oe(r);if(g===".priority"){j(zn(r)===1,"Can't have a priority with additional path components");const E=d.getNode();p=t.serverCache.getNode();const w=Op(o,r,E,p);w!=null?h=i.filter.updatePriority(E,w):h=d.getNode()}else{const E=we(r);let w;if(d.isCompleteForChild(g)){p=t.serverCache.getNode();const v=Op(o,r,d.getNode(),p);v!=null?w=d.getNode().getImmediateChild(g).updateChild(E,v):w=d.getNode().getImmediateChild(g)}else w=Sc(o,g,t.serverCache);w!=null?h=i.filter.updateChild(d.getNode(),g,w,E,l,u):h=d.getNode()}}return Xi(t,h,d.isFullyInitialized()||ae(r),i.filter.filtersNodes())}}function Xo(i,t,r,o,l,u,d,h){const p=t.serverCache;let g;const E=d?i.filter:i.filter.getIndexedFilter();if(ae(r))g=E.updateFullNode(p.getNode(),o,null);else if(E.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(r,o);g=E.updateFullNode(p.getNode(),N,null)}else{const N=oe(r);if(!p.isCompleteForPath(r)&&zn(r)>1)return t;const x=we(r),O=p.getNode().getImmediateChild(N).updateChild(x,o);N===".priority"?g=E.updatePriority(p.getNode(),O):g=E.updateChild(p.getNode(),N,O,x,dg,null)}const w=sg(t,g,p.isFullyInitialized()||ae(r),E.filtersNodes()),v=new kc(l,w,u);return fg(i,w,r,l,v,h)}function Qu(i,t,r,o,l,u,d){const h=t.eventCache;let p,g;const E=new kc(l,t,u);if(ae(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,d),p=Xi(t,g,!0,i.filter.filtersNodes());else{const w=oe(r);if(w===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),p=Xi(t,g,h.isFullyInitialized(),h.isFiltered());else{const v=we(r),N=h.getNode().getImmediateChild(w);let x;if(ae(v))x=o;else{const D=E.getCompleteChild(w);D!=null?fc(v)===".priority"&&D.getChild(qm(v)).isEmpty()?x=D:x=D.updateChild(v,o):x=Z.EMPTY_NODE}if(N.equals(x))p=t;else{const D=i.filter.updateChild(h.getNode(),w,x,v,E,d);p=Xi(t,D,h.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function Ap(i,t){return i.eventCache.isCompleteForChild(t)}function BC(i,t,r,o,l,u,d){let h=t;return o.foreach((p,g)=>{const E=Le(r,p);Ap(t,oe(E))&&(h=Qu(i,h,E,g,l,u,d))}),o.foreach((p,g)=>{const E=Le(r,p);Ap(t,oe(E))||(h=Qu(i,h,E,g,l,u,d))}),h}function Lp(i,t,r){return r.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function Ku(i,t,r,o,l,u,d,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;ae(r)?g=o:g=new ye(null).setTree(r,o);const E=t.serverCache.getNode();return g.children.inorderTraversal((w,v)=>{if(E.hasChild(w)){const N=t.serverCache.getNode().getImmediateChild(w),x=Lp(i,N,v);p=Xo(i,p,new ge(w),x,l,u,d,h)}}),g.children.inorderTraversal((w,v)=>{const N=!t.serverCache.isCompleteForChild(w)&&v.value===null;if(!E.hasChild(w)&&!N){const x=t.serverCache.getNode().getImmediateChild(w),D=Lp(i,x,v);p=Xo(i,p,new ge(w),D,l,u,d,h)}}),p}function WC(i,t,r,o,l,u,d){if(qo(l,r)!=null)return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(o.value!=null){if(ae(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return Xo(i,t,r,p.getNode().getChild(r),l,u,h,d);if(ae(r)){let g=new ye(null);return p.getNode().forEachChild(Br,(E,w)=>{g=g.set(new ge(E),w)}),Ku(i,t,r,g,l,u,h,d)}else return t}else{let g=new ye(null);return o.foreach((E,w)=>{const v=Le(r,E);p.isCompleteForPath(v)&&(g=g.set(E,p.getNode().getChild(v)))}),Ku(i,t,r,g,l,u,h,d)}}function $C(i,t,r,o,l){const u=t.serverCache,d=sg(t,u.getNode(),u.isFullyInitialized()||ae(r),u.isFiltered());return fg(i,d,r,o,dg,l)}function HC(i,t,r,o,l,u){let d;if(qo(o,r)!=null)return t;{const h=new kc(o,t,l),p=t.eventCache.getNode();let g;if(ae(r)||oe(r)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=Yo(o,ar(t));else{const w=t.serverCache.getNode();j(w instanceof Z,"serverChildren would be complete if leaf node"),E=Cc(o,w)}E=E,g=i.filter.updateFullNode(p,E,u)}else{const E=oe(r);let w=Sc(o,E,t.serverCache);w==null&&t.serverCache.isCompleteForChild(E)&&(w=p.getImmediateChild(E)),w!=null?g=i.filter.updateChild(p,E,w,we(r),h,u):t.eventCache.getNode().hasChild(E)?g=i.filter.updateChild(p,E,Z.EMPTY_NODE,we(r),h,u):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Yo(o,ar(t)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,u)))}return d=t.serverCache.isFullyInitialized()||qo(o,fe())!=null,Xi(t,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new gc(o.getIndex()),u=uC(o);this.processor_=bC(u);const d=r.serverCache,h=r.eventCache,p=l.updateFullNode(Z.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),E=new lr(p,d.isFullyInitialized(),l.filtersNodes()),w=new lr(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=ul(w,E),this.eventGenerator_=new gC(this.query_)}get query(){return this.query_}}function GC(i){return i.viewCache_.serverCache.getNode()}function QC(i,t){const r=ar(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!ae(t)&&!r.getImmediateChild(oe(t)).isEmpty())?r.getChild(t):null}function Mp(i){return i.eventRegistrations_.length===0}function KC(i,t){i.eventRegistrations_.push(t)}function Fp(i,t,r){const o=[];if(r){j(t==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(r,l);d&&o.push(d)})}if(t){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const d=i.eventRegistrations_[u];if(!d.matches(t))l.push(d);else if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function bp(i,t,r,o){t.type===jt.MERGE&&t.source.queryId!==null&&(j(ar(i.viewCache_),"We should always have a full cache before handling merges"),j($u(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=jC(i.processor_,l,t,r,o);return zC(i.processor_,u.viewCache),j(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,hg(i,u.changes,u.viewCache.eventCache.getNode(),null)}function YC(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Me,(u,d)=>{o.push(Vr(u,d))}),r.isFullyInitialized()&&o.push(rg(r.getNode())),hg(i,o,r.getNode(),t)}function hg(i,t,r,o){const l=o?[o]:i.eventRegistrations_;return _C(i.eventGenerator_,t,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo;class qC{constructor(){this.views=new Map}}function XC(i){j(!Jo,"__referenceConstructor has already been defined"),Jo=i}function JC(){return j(Jo,"Reference.ts has not been loaded"),Jo}function ZC(i){return i.views.size===0}function xc(i,t,r,o){const l=t.source.queryId;if(l!==null){const u=i.views.get(l);return j(u!=null,"SyncTree gave us an op for an invalid query."),bp(u,t,r,o)}else{let u=[];for(const d of i.views.values())u=u.concat(bp(d,t,r,o));return u}}function eS(i,t,r,o,l){const u=t._queryIdentifier,d=i.views.get(u);if(!d){let h=Yo(r,l?o:null),p=!1;h?p=!0:o instanceof Z?(h=Cc(r,o),p=!1):(h=Z.EMPTY_NODE,p=!1);const g=ul(new lr(h,p,!1),new lr(o,l,!1));return new VC(t,g)}return d}function tS(i,t,r,o,l,u){const d=eS(i,t,o,l,u);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,d),KC(d,r),YC(d,r)}function nS(i,t,r,o){const l=t._queryIdentifier,u=[];let d=[];const h=jn(i);if(l==="default")for(const[p,g]of i.views.entries())d=d.concat(Fp(g,r,o)),Mp(g)&&(i.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=i.views.get(l);p&&(d=d.concat(Fp(p,r,o)),Mp(p)&&(i.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!jn(i)&&u.push(new(JC())(t._repo,t._path)),{removed:u,events:d}}function pg(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Wr(i,t){let r=null;for(const o of i.views.values())r=r||QC(o,t);return r}function mg(i,t){if(t._queryParams.loadsAllData())return cl(i);{const o=t._queryIdentifier;return i.views.get(o)}}function gg(i,t){return mg(i,t)!=null}function jn(i){return cl(i)!=null}function cl(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo;function rS(i){j(!Zo,"__referenceConstructor has already been defined"),Zo=i}function iS(){return j(Zo,"Reference.ts has not been loaded"),Zo}let sS=1;class zp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ye(null),this.pendingWriteTree_=AC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _g(i,t,r,o,l){return EC(i.pendingWriteTree_,t,r,o,l),l?ei(i,new or(yc(),t,r)):[]}function oS(i,t,r,o){CC(i.pendingWriteTree_,t,r,o);const l=ye.fromObject(r);return ei(i,new Gr(yc(),t,l))}function An(i,t,r=!1){const o=SC(i.pendingWriteTree_,t);if(kC(i.pendingWriteTree_,t)){let u=new ye(null);return o.snap!=null?u=u.set(fe(),!0):Je(o.children,d=>{u=u.set(new ge(d),!0)}),ei(i,new Ko(o.path,u,r))}else return[]}function dl(i,t,r){return ei(i,new or(vc(),t,r))}function lS(i,t,r){const o=ye.fromObject(r);return ei(i,new Gr(vc(),t,o))}function aS(i,t){return ei(i,new us(vc(),t))}function uS(i,t,r){const o=Tc(i,r);if(o){const l=Nc(o),u=l.path,d=l.queryId,h=pt(u,t),p=new us(wc(d),h);return Rc(i,u,p)}else return[]}function Yu(i,t,r,o,l=!1){const u=t._path,d=i.syncPointTree_.get(u);let h=[];if(d&&(t._queryIdentifier==="default"||gg(d,t))){const p=nS(d,t,r,o);ZC(d)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=p.removed;if(h=p.events,!l){const E=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(u,(v,N)=>jn(N));if(E&&!w){const v=i.syncPointTree_.subtree(u);if(!v.isEmpty()){const N=fS(v);for(let x=0;x<N.length;++x){const D=N[x],O=D.query,z=wg(i,D);i.listenProvider_.startListening(Zi(O),el(i,O),z.hashFn,z.onComplete)}}}!w&&g.length>0&&!o&&(E?i.listenProvider_.stopListening(Zi(t),null):g.forEach(v=>{const N=i.queryToTagMap.get(fl(v));i.listenProvider_.stopListening(Zi(v),N)}))}hS(i,g)}return h}function cS(i,t,r,o){const l=Tc(i,o);if(l!=null){const u=Nc(l),d=u.path,h=u.queryId,p=pt(d,t),g=new or(wc(h),p,r);return Rc(i,d,g)}else return[]}function dS(i,t,r,o){const l=Tc(i,o);if(l){const u=Nc(l),d=u.path,h=u.queryId,p=pt(d,t),g=ye.fromObject(r),E=new Gr(wc(h),p,g);return Rc(i,d,E)}else return[]}function jp(i,t,r,o=!1){const l=t._path;let u=null,d=!1;i.syncPointTree_.foreachOnPath(l,(v,N)=>{const x=pt(v,l);u=u||Wr(N,x),d=d||jn(N)});let h=i.syncPointTree_.get(l);h?(d=d||jn(h),u=u||Wr(h,fe())):(h=new qC,i.syncPointTree_=i.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=Z.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((N,x)=>{const D=Wr(x,fe());D&&(u=u.updateImmediateChild(N,D))}));const g=gg(h,t);if(!g&&!t._queryParams.loadsAllData()){const v=fl(t);j(!i.queryToTagMap.has(v),"View does not exist, but we have a tag");const N=pS();i.queryToTagMap.set(v,N),i.tagToQueryMap.set(N,v)}const E=Ec(i.pendingWriteTree_,l);let w=tS(h,t,r,E,u,p);if(!g&&!d&&!o){const v=mg(h,t);w=w.concat(mS(i,t,v))}return w}function Ic(i,t,r){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(t,(d,h)=>{const p=pt(d,t),g=Wr(h,p);if(g)return g});return ag(l,t,u,r,!0)}function ei(i,t){return yg(t,i.syncPointTree_,null,Ec(i.pendingWriteTree_,fe()))}function yg(i,t,r,o){if(ae(i.path))return vg(i,t,r,o);{const l=t.get(fe());r==null&&l!=null&&(r=Wr(l,fe()));let u=[];const d=oe(i.path),h=i.operationForChild(d),p=t.children.get(d);if(p&&h){const g=r?r.getImmediateChild(d):null,E=ug(o,d);u=u.concat(yg(h,p,g,E))}return l&&(u=u.concat(xc(l,i,o,r))),u}}function vg(i,t,r,o){const l=t.get(fe());r==null&&l!=null&&(r=Wr(l,fe()));let u=[];return t.children.inorderTraversal((d,h)=>{const p=r?r.getImmediateChild(d):null,g=ug(o,d),E=i.operationForChild(d);E&&(u=u.concat(vg(E,h,p,g)))}),l&&(u=u.concat(xc(l,i,o,r))),u}function wg(i,t){const r=t.query,o=el(i,r);return{hashFn:()=>(GC(t)||Z.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?uS(i,r._path,o):aS(i,r._path);{const u=lE(l,r);return Yu(i,r,null,u)}}}}function el(i,t){const r=fl(t);return i.queryToTagMap.get(r)}function fl(i){return i._path.toString()+"$"+i._queryIdentifier}function Tc(i,t){return i.tagToQueryMap.get(t)}function Nc(i){const t=i.indexOf("$");return j(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ge(i.substr(0,t))}}function Rc(i,t,r){const o=i.syncPointTree_.get(t);j(o,"Missing sync point for query tag that we're tracking");const l=Ec(i.pendingWriteTree_,t);return xc(o,r,l,null)}function fS(i){return i.fold((t,r,o)=>{if(r&&jn(r))return[cl(r)];{let l=[];return r&&(l=pg(r)),Je(o,(u,d)=>{l=l.concat(d)}),l}})}function Zi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(iS())(i._repo,i._path):i}function hS(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const l=fl(o),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function pS(){return sS++}function mS(i,t,r){const o=t._path,l=el(i,t),u=wg(i,r),d=i.listenProvider_.startListening(Zi(t),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(o);if(l)j(!jn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,E,w)=>{if(!ae(g)&&E&&jn(E))return[cl(E).query];{let v=[];return E&&(v=v.concat(pg(E).map(N=>N.query))),Je(w,(N,x)=>{v=v.concat(x)}),v}});for(let g=0;g<p.length;++g){const E=p[g];i.listenProvider_.stopListening(Zi(E),el(i,E))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Pc(r)}node(){return this.node_}}class Dc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Le(this.path_,t);return new Dc(this.syncTree_,r)}node(){return Ic(this.syncTree_,this.path_)}}const gS=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Up=function(i,t,r){if(!i||typeof i!="object")return i;if(j(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return _S(i[".sv"],t,r);if(typeof i[".sv"]=="object")return yS(i[".sv"],t);j(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},_S=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:j(!1,"Unexpected server value: "+i)}},yS=function(i,t,r){i.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&j(!1,"Unexpected increment value: "+o);const l=t.node();if(j(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const d=l.getValue();return typeof d!="number"?o:d+o},Eg=function(i,t,r,o){return Oc(t,new Dc(r,i),o)},Cg=function(i,t,r){return Oc(i,new Pc(t),r)};function Oc(i,t,r){const o=i.getPriority().val(),l=Up(o,t.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const d=i,h=Up(d.getValue(),t,r);return h!==d.getValue()||l!==d.getPriority().val()?new Ve(h,Qe(l)):i}else{const d=i;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new Ve(l))),d.forEachChild(Me,(h,p)=>{const g=Oc(p,t.getImmediateChild(h),r);g!==p&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Lc(i,t){let r=t instanceof ge?t:new ge(t),o=i,l=oe(r);for(;l!==null;){const u=$r(o.node.children,l)||{children:{},childCount:0};o=new Ac(l,o,u),r=we(r),l=oe(r)}return o}function ti(i){return i.node.value}function Sg(i,t){i.node.value=t,qu(i)}function kg(i){return i.node.childCount>0}function vS(i){return ti(i)===void 0&&!kg(i)}function hl(i,t){Je(i.node.children,(r,o)=>{t(new Ac(r,i,o))})}function xg(i,t,r,o){r&&t(i),hl(i,l=>{xg(l,t,!0)})}function wS(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function vs(i){return new ge(i.parent===null?i.name:vs(i.parent)+"/"+i.name)}function qu(i){i.parent!==null&&ES(i.parent,i.name,i)}function ES(i,t,r){const o=vS(r),l=Jt(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,qu(i)):!o&&!l&&(i.node.children[t]=r.node,i.node.childCount++,qu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=/[\[\].#$\/\u0000-\u001F\u007F]/,SS=/[\[\].#$\u0000-\u001F\u007F]/,Nu=10*1024*1024,Mc=function(i){return typeof i=="string"&&i.length!==0&&!CS.test(i)},Ig=function(i){return typeof i=="string"&&i.length!==0&&!SS.test(i)},kS=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Ig(i)},xS=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!lc(i)||i&&typeof i=="object"&&Jt(i,".sv")},Tg=function(i,t,r,o){o&&t===void 0||pl(ol(i,"value"),t,r)},pl=function(i,t,r){const o=r instanceof ge?new BE(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+nr(o));if(typeof t=="function")throw new Error(i+"contains a function "+nr(o)+" with contents = "+t.toString());if(lc(t))throw new Error(i+"contains "+t.toString()+" "+nr(o));if(typeof t=="string"&&t.length>Nu/3&&ll(t)>Nu)throw new Error(i+"contains a string greater than "+Nu+" utf8 bytes "+nr(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,u=!1;if(Je(t,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!Mc(d)))throw new Error(i+" contains an invalid key ("+d+") "+nr(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WE(o,d),pl(i,h,o),$E(o)}),l&&u)throw new Error(i+' contains ".value" child '+nr(o)+" in addition to actual children.")}},IS=function(i,t){let r,o;for(r=0;r<t.length;r++){o=t[r];const u=ss(o);for(let d=0;d<u.length;d++)if(!(u[d]===".priority"&&d===u.length-1)){if(!Mc(u[d]))throw new Error(i+"contains an invalid key ("+u[d]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(UE);let l=null;for(r=0;r<t.length;r++){if(o=t[r],l!==null&&Dt(l,o))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}},TS=function(i,t,r,o){const l=ol(i,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const u=[];Je(t,(d,h)=>{const p=new ge(d);if(pl(l,h,Le(r,p)),fc(p)===".priority"&&!xS(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),IS(l,u)},Ng=function(i,t,r,o){if(!Ig(r))throw new Error(ol(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NS=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Ng(i,t,r)},Fc=function(i,t){if(oe(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},RS=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Mc(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!kS(r))throw new Error(ol(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ml(i,t){let r=null;for(let o=0;o<t.length;o++){const l=t[o],u=l.getPath();r!==null&&!hc(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&i.eventLists_.push(r)}function Rg(i,t,r){ml(i,r),Pg(i,o=>hc(o,t))}function Bt(i,t,r){ml(i,r),Pg(i,o=>Dt(o,t)||Dt(t,o))}function Pg(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];if(l){const u=l.path;t(u)?(DS(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function DS(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Yi&&Xe("event: "+r.toString()),Zr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="repo_interrupt",AS=25;class LS{constructor(t,r,o,l){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qo(),this.transactionQueueTree_=new Ac,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function MS(i,t,r){if(i.stats_=cc(i.repoInfo_),i.forceRestClient_||dE())i.server_=new Go(i.repoInfo_,(o,l,u,d)=>{Bp(i,o,l,u,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Wp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new cn(i.repoInfo_,t,(o,l,u,d)=>{Bp(i,o,l,u,d)},o=>{Wp(i,o)},o=>{FS(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=gE(i.repoInfo_,()=>new mC(i.stats_,i.server_)),i.infoData_=new cC,i.infoSyncTree_=new zp({startListening:(o,l,u,d)=>{let h=[];const p=i.infoData_.getNode(o._path);return p.isEmpty()||(h=dl(i.infoSyncTree_,o._path,p),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),bc(i,"connected",!1),i.serverSyncTree_=new zp({startListening:(o,l,u,d)=>(i.server_.listen(o,u,l,(h,p)=>{const g=d(h,p);Bt(i.eventQueue_,o._path,g)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}function Dg(i){const r=i.infoData_.getNode(new ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function gl(i){return gS({timestamp:Dg(i)})}function Bp(i,t,r,o,l){i.dataUpdateCount++;const u=new ge(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let d=[];if(l)if(o){const p=Uo(r,g=>Qe(g));d=dS(i.serverSyncTree_,u,p,l)}else{const p=Qe(r);d=cS(i.serverSyncTree_,u,p,l)}else if(o){const p=Uo(r,g=>Qe(g));d=lS(i.serverSyncTree_,u,p)}else{const p=Qe(r);d=dl(i.serverSyncTree_,u,p)}let h=u;d.length>0&&(h=Kr(i,u)),Bt(i.eventQueue_,h,d)}function Wp(i,t){bc(i,"connected",t),t===!1&&jS(i)}function FS(i,t){Je(t,(r,o)=>{bc(i,r,o)})}function bc(i,t,r){const o=new ge("/.info/"+t),l=Qe(r);i.infoData_.updateSnapshot(o,l);const u=dl(i.infoSyncTree_,o,l);Bt(i.eventQueue_,o,u)}function zc(i){return i.nextWriteId_++}function bS(i,t,r,o,l){_l(i,"set",{path:t.toString(),value:r,priority:o});const u=gl(i),d=Qe(r,o),h=Ic(i.serverSyncTree_,t),p=Cg(d,h,u),g=zc(i),E=_g(i.serverSyncTree_,t,p,g,!0);ml(i.eventQueue_,E),i.server_.put(t.toString(),d.val(!0),(v,N)=>{const x=v==="ok";x||lt("set at "+t+" failed: "+v);const D=An(i.serverSyncTree_,g,!x);Bt(i.eventQueue_,t,D),Xu(i,l,v,N)});const w=Uc(i,t);Kr(i,w),Bt(i.eventQueue_,w,[])}function zS(i,t,r,o){_l(i,"update",{path:t.toString(),value:r});let l=!0;const u=gl(i),d={};if(Je(r,(h,p)=>{l=!1,d[h]=Eg(Le(t,h),Qe(p),i.serverSyncTree_,u)}),l)Xe("update() called with empty data.  Don't do anything."),Xu(i,o,"ok",void 0);else{const h=zc(i),p=oS(i.serverSyncTree_,t,d,h);ml(i.eventQueue_,p),i.server_.merge(t.toString(),r,(g,E)=>{const w=g==="ok";w||lt("update at "+t+" failed: "+g);const v=An(i.serverSyncTree_,h,!w),N=v.length>0?Kr(i,t):t;Bt(i.eventQueue_,N,v),Xu(i,o,g,E)}),Je(r,g=>{const E=Uc(i,Le(t,g));Kr(i,E)}),Bt(i.eventQueue_,t,[])}}function jS(i){_l(i,"onDisconnectEvents");const t=gl(i),r=Qo();Wu(i.onDisconnect_,fe(),(l,u)=>{const d=Eg(l,u,i.serverSyncTree_,t);ig(r,l,d)});let o=[];Wu(r,fe(),(l,u)=>{o=o.concat(dl(i.serverSyncTree_,l,u));const d=Uc(i,l);Kr(i,d)}),i.onDisconnect_=Qo(),Bt(i.eventQueue_,fe(),o)}function US(i,t,r){let o;oe(t._path)===".info"?o=jp(i.infoSyncTree_,t,r):o=jp(i.serverSyncTree_,t,r),Rg(i.eventQueue_,t._path,o)}function BS(i,t,r){let o;oe(t._path)===".info"?o=Yu(i.infoSyncTree_,t,r):o=Yu(i.serverSyncTree_,t,r),Rg(i.eventQueue_,t._path,o)}function WS(i){i.persistentConnection_&&i.persistentConnection_.interrupt(OS)}function _l(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Xe(r,...t)}function Xu(i,t,r,o){t&&Zr(()=>{if(r==="ok")t(null);else{const l=(r||"error").toUpperCase();let u=l;o&&(u+=": "+o);const d=new Error(u);d.code=l,t(d)}})}function Og(i,t,r){return Ic(i.serverSyncTree_,t,r)||Z.EMPTY_NODE}function jc(i,t=i.transactionQueueTree_){if(t||yl(i,t),ti(t)){const r=Lg(i,t);j(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&$S(i,vs(t),r)}else kg(t)&&hl(t,r=>{jc(i,r)})}function $S(i,t,r){const o=r.map(g=>g.currentWriteId),l=Og(i,t,o);let u=l;const d=l.hash();for(let g=0;g<r.length;g++){const E=r[g];j(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const w=pt(t,E.path);u=u.updateChild(w,E.currentOutputSnapshotRaw)}const h=u.val(!0),p=t;i.server_.put(p.toString(),h,g=>{_l(i,"transaction put response",{path:p.toString(),status:g});let E=[];if(g==="ok"){const w=[];for(let v=0;v<r.length;v++)r[v].status=2,E=E.concat(An(i.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&w.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();yl(i,Lc(i.transactionQueueTree_,t)),jc(i,i.transactionQueueTree_),Bt(i.eventQueue_,t,E);for(let v=0;v<w.length;v++)Zr(w[v])}else{if(g==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{lt("transaction at "+p.toString()+" failed: "+g);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=g}Kr(i,t)}},d)}function Kr(i,t){const r=Ag(i,t),o=vs(r),l=Lg(i,r);return HS(i,l,o),o}function HS(i,t,r){if(t.length===0)return;const o=[];let l=[];const d=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],g=pt(r,p.path);let E=!1,w;if(j(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)E=!0,w=p.abortReason,l=l.concat(An(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=AS)E=!0,w="maxretry",l=l.concat(An(i.serverSyncTree_,p.currentWriteId,!0));else{const v=Og(i,p.path,d);p.currentInputSnapshot=v;const N=t[h].update(v.val());if(N!==void 0){pl("transaction failed: Data returned ",N,p.path);let x=Qe(N);typeof N=="object"&&N!=null&&Jt(N,".priority")||(x=x.updatePriority(v.getPriority()));const O=p.currentWriteId,z=gl(i),U=Cg(x,v,z);p.currentOutputSnapshotRaw=x,p.currentOutputSnapshotResolved=U,p.currentWriteId=zc(i),d.splice(d.indexOf(O),1),l=l.concat(_g(i.serverSyncTree_,p.path,U,p.currentWriteId,p.applyLocally)),l=l.concat(An(i.serverSyncTree_,O,!0))}else E=!0,w="nodata",l=l.concat(An(i.serverSyncTree_,p.currentWriteId,!0))}Bt(i.eventQueue_,r,l),l=[],E&&(t[h].status=2,function(v){setTimeout(v,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(w==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(w),!1,null))))}yl(i,i.transactionQueueTree_);for(let h=0;h<o.length;h++)Zr(o[h]);jc(i,i.transactionQueueTree_)}function Ag(i,t){let r,o=i.transactionQueueTree_;for(r=oe(t);r!==null&&ti(o)===void 0;)o=Lc(o,r),t=we(t),r=oe(t);return o}function Lg(i,t){const r=[];return Mg(i,t,r),r.sort((o,l)=>o.order-l.order),r}function Mg(i,t,r){const o=ti(t);if(o)for(let l=0;l<o.length;l++)r.push(o[l]);hl(t,l=>{Mg(i,l,r)})}function yl(i,t){const r=ti(t);if(r){let o=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[o]=r[l],o++);r.length=o,Sg(t,r.length>0?r:void 0)}hl(t,o=>{yl(i,o)})}function Uc(i,t){const r=vs(Ag(i,t)),o=Lc(i.transactionQueueTree_,t);return wS(o,l=>{Ru(i,l)}),Ru(i,o),xg(o,l=>{Ru(i,l)}),r}function Ru(i,t){const r=ti(t);if(r){const o=[];let l=[],u=-1;for(let d=0;d<r.length;d++)r[d].status===3||(r[d].status===1?(j(u===d-1,"All SENT items should be at beginning of queue."),u=d,r[d].status=3,r[d].abortReason="set"):(j(r[d].status===0,"Unexpected transaction status in abort"),r[d].unwatcher(),l=l.concat(An(i.serverSyncTree_,r[d].currentWriteId,!0)),r[d].onComplete&&o.push(r[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Sg(t,void 0):r.length=u+1,Bt(i.eventQueue_,vs(t),l);for(let d=0;d<o.length;d++)Zr(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let l=r[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function GS(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):lt(`Invalid query segment '${r}' in query '${i}'`)}return t}const $p=function(i,t){const r=QS(i),o=r.namespace;r.domain==="firebase.com"&&fn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||nE();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Bm(r.host,r.secure,o,l,t,"",o!==r.subdomain),path:new ge(r.pathString)}},QS=function(i){let t="",r="",o="",l="",u="",d=!0,h="https",p=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let E=i.indexOf("/");E===-1&&(E=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(E,w)),E<w&&(l=VS(i.substring(E,w)));const v=GS(i.substring(Math.min(i.length,w)));g=t.indexOf(":"),g>=0?(d=h==="https"||h==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const N=t.slice(0,g);if(N.toLowerCase()==="localhost")r="localhost";else if(N.split(".").length<=2)r=N;else{const x=t.indexOf(".");o=t.substring(0,x).toLowerCase(),r=t.substring(x+1),u=o}"ns"in v&&(u=v.ns)}return{host:t,port:p,domain:r,subdomain:o,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KS=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=Hp.charAt(r%64),r=Math.floor(r/64);j(r===0,"Cannot push at time == 0");let d=u.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)d+=Hp.charAt(t[l]);return j(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,r,o,l){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class qS{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,r,o,l){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=l}get key(){return ae(this._path)?null:fc(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const t=Np(this._queryParams),r=ac(t);return r==="{}"?"default":r}get _queryObject(){return Np(this._queryParams)}isEqual(t){if(t=Jr(t),!(t instanceof Bc))return!1;const r=this._repo===t._repo,o=hc(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return r&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+jE(this._path)}}class Un extends Bc{constructor(t,r){super(t,r,new _c,!1)}get parent(){const t=qm(this._path);return t===null?null:new Un(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class tl{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ge(t),o=cs(this.ref,t);return new tl(this._node.getChild(r),o,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new tl(l,cs(this.ref,o),Me)))}hasChild(t){const r=new ge(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qt(i,t){return i=Jr(i),i._checkNotDeleted("ref"),t!==void 0?cs(i._root,t):i._root}function cs(i,t){return i=Jr(i),oe(i._path)===null?NS("child","path",t):Ng("child","path",t),new Un(i._repo,Le(i._path,t))}function JS(i,t){i=Jr(i),Fc("push",i._path),Tg("push",t,i._path,!0);const r=Dg(i._repo),o=KS(r),l=cs(i,o),u=cs(i,o);let d;return d=Promise.resolve(u),l.then=d.then.bind(d),l.catch=d.then.bind(d,void 0),l}function ZS(i){return Fc("remove",i._path),Fg(i,null)}function Fg(i,t){i=Jr(i),Fc("set",i._path),Tg("set",t,i._path,!1);const r=new ps;return bS(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function er(i,t){TS("update",t,i._path);const r=new ps;return zS(i._repo,i._path,t,r.wrapCallback(()=>{})),r.promise}class Wc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new YS("value",this,new tl(t.snapshotNode,new Un(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new qS(this,t,r):null}matches(t){return t instanceof Wc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function e1(i,t,r,o,l){const u=new XS(r,void 0),d=new Wc(u);return US(i._repo,i,d),()=>BS(i._repo,i,d)}function t1(i,t,r,o){return e1(i,"value",t)}XC(Un);rS(Un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="FIREBASE_DATABASE_EMULATOR_HOST",Ju={};let r1=!1;function i1(i,t,r,o){i.repoInfo_=new Bm(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function s1(i,t,r,o,l){let u=o||i.options.databaseURL;u===void 0&&(i.options.projectId||fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=$p(u,l),h=d.repoInfo,p;typeof process<"u"&&cp&&(p=cp[n1]),p?(u=`http://${p}?ns=${h.namespace}`,d=$p(u,l),h=d.repoInfo):d.repoInfo.secure;const g=new hE(i.name,i.options,t);RS("Invalid Firebase Database URL",d),ae(d.path)||fn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=l1(h,i,g,new fE(i.name,r));return new a1(E,i)}function o1(i,t){const r=Ju[t];(!r||r[i.key]!==i)&&fn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),WS(i),delete r[i.key]}function l1(i,t,r,o){let l=Ju[t.name];l||(l={},Ju[t.name]=l);let u=l[i.toURLString()];return u&&fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new LS(i,r1,r,o),l[i.toURLString()]=u,u}class a1{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(o1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&fn("Cannot call "+t+" on a deleted database.")}}function u1(i=zw(),t){const r=Lw(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=S0("database");o&&c1(r,...o)}return r}function c1(i,t,r,o={}){i=Jr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&fn("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let u;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new bo(bo.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:k0(o.mockUserToken,i.app.options.projectId);u=new bo(d)}i1(l,t,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i){qw(bw),Wo(new ns("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return s1(o,l,u,r)},"PUBLIC").setMultipleInstances(!0)),jr(dp,fp,i),jr(dp,fp,"esm2017")}cn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};cn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};d1();const f1={BASE_URL:"/test/supply-db",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyDer8Ag5FGBq7zjZ3j-tp7YyaXKKWhueps",VITE_APP_ID:"1:934530752707:web:1ef00dd9d3995cabac8276",VITE_AUTH_DOMAIN:"database-supplier-hi-technics.firebaseapp.com",VITE_DATABASE_URL:"https://database-supplier-hi-technics-default-rtdb.asia-southeast1.firebasedatabase.app",VITE_MEASUREMENT_ID:"G-P0C4CNLYW3",VITE_MESSAGING_SENDER_ID:"934530752707",VITE_PROJECT_ID:"database-supplier-hi-technics",VITE_STORAGE_BUCKET:"database-supplier-hi-technics.firebasestorage.app"};console.log("All env variables:",f1);const h1={apiKey:void 0,authDomain:"database-supplier-hi-technics.firebaseapp.com",databaseURL:"https://database-supplier-hi-technics-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"database-supplier-hi-technics",storageBucket:"database-supplier-hi-technics.firebasestorage.app",messagingSenderId:"934530752707",appId:"1:934530752707:web:1ef00dd9d3995cabac8276",measurementId:"G-P0C4CNLYW3"},p1=km(h1),Kt=u1(p1);var bg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vp=ir.createContext&&ir.createContext(bg),m1=["attr","size","title"];function g1(i,t){if(i==null)return{};var r=_1(i,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(r[o]=i[o])}return r}function _1(i,t){if(i==null)return{};var r={};for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){if(t.indexOf(o)>=0)continue;r[o]=i[o]}return r}function nl(){return nl=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},nl.apply(this,arguments)}function Gp(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,o)}return r}function rl(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gp(Object(r),!0).forEach(function(o){y1(i,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Gp(Object(r)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(r,o))})}return i}function y1(i,t,r){return t=v1(t),t in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r,i}function v1(i){var t=w1(i,"string");return typeof t=="symbol"?t:t+""}function w1(i,t){if(typeof i!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var o=r.call(i,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function zg(i){return i&&i.map((t,r)=>ir.createElement(t.tag,rl({key:r},t.attr),zg(t.child)))}function fr(i){return t=>ir.createElement(E1,nl({attr:rl({},i.attr)},t),zg(i.child))}function E1(i){var t=r=>{var{attr:o,size:l,title:u}=i,d=g1(i,m1),h=l||r.size||"1em",p;return r.className&&(p=r.className),i.className&&(p=(p?p+" ":"")+i.className),ir.createElement("svg",nl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,o,d,{className:p,style:rl(rl({color:i.color||r.color},r.style),i.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&ir.createElement("title",null,u),i.children)};return Vp!==void 0?ir.createElement(Vp.Consumer,null,r=>t(r)):t(bg)}function C1(i){return fr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"},child:[]}]})(i)}function S1(i){return fr({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(i)}function Qp(i){return fr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(i)}function Kp(i){return fr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"},child:[]}]})(i)}function k1(i){return fr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(i)}function x1(i){return fr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"},child:[]}]})(i)}function I1(i){return fr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(i)}const T1=({onAddCategory:i,onDeleteCategory:t})=>{const[r,o]=P.useState(""),l=u=>{u.preventDefault(),r.trim()&&(i(r.trim()),o(""))};return b.jsxs("div",{className:"category-manager",children:[b.jsx("h2",{children:"Manage Categories"}),b.jsxs("form",{onSubmit:l,children:[b.jsx("input",{type:"text",value:r,onChange:u=>o(u.target.value),placeholder:"New category name"}),b.jsx("button",{type:"submit",children:"Add Category"})]}),b.jsx("ul",{children:categories.map(u=>b.jsxs("li",{children:[u,b.jsx("button",{onClick:()=>t(u),children:"Delete"})]},u))})]})};function N1(){const[i,t]=P.useState([]),[r,o]=P.useState(""),[l,u]=P.useState(""),[d,h]=P.useState({name:"",origin:"",category:"",desc:"",products:[]}),[p,g]=P.useState(null),[E,w]=P.useState({name:"",price:""}),[v,N]=P.useState(""),[x,D]=P.useState(null),[O,z]=P.useState(["Supplier","Logistic","Electrical & Instrument","Mechanical"]),[U,ee]=P.useState(""),[re,de]=P.useState(!1),Ee=P.useRef(null),Ce=()=>{const _=Qt(Kt,"suppliers");t1(_,R=>{const G=R.val();t(G?Object.entries(G).map(([J,te])=>({id:J,...te})):[])})};P.useEffect(()=>{Ce()},[]);const Oe=(_,R=null)=>i.some(G=>G.name.toLowerCase()===_.toLowerCase()&&G.id!==R),xe=()=>{if(!d.name.trim()){N("Supplier name cannot be empty");return}if(Oe(d.name,p)){N(`Supplier "${d.name}" already exists`);return}if(N(""),p)er(Qt(Kt,`suppliers/${p}`),d);else{const R=JS(Qt(Kt,"suppliers"));Fg(R,d)}h({name:"",origin:"",category:"",desc:"",products:[]}),g(null),de(!1)},ze=_=>{ZS(Qt(Kt,`suppliers/${_}`))},Ct=_=>{h(_),g(_.id),N(""),de(!0),Ze()},St=(_,R)=>{const G=i.find(te=>te.id===_);if(!G||!R.name||!R.price)return;const J=[...G.products||[],R];er(Qt(Kt,`suppliers/${_}`),{products:J}),w({name:"",price:""})},it=(_,R)=>{const G=i.find(te=>te.id===_);if(!G)return;const J=G.products.filter((te,ie)=>ie!==R);er(Qt(Kt,`suppliers/${_}`),{products:J})},gt=(_,R)=>{D({supplierId:_,productIndex:R})},kt=(_,R,G)=>{const J=i.find(ie=>ie.id===_);if(!J)return;const te=J.products.map((ie,me)=>me===R?G:ie);er(Qt(Kt,`suppliers/${_}`),{products:te}),D(null)},Ze=()=>{var _;(_=Ee.current)==null||_.scrollIntoView({behavior:"smooth"})},Ie=_=>{O.includes(_)||z([...O,_])},B=_=>{z(O.filter(R=>R!==_))},X=()=>{},$=(_,R)=>{er(Qt(Kt,`suppliers/${_}`),{category:R})};return b.jsxs("div",{className:"container",children:[b.jsx("h1",{children:"Hi Technics Supplier Database"}),b.jsx("button",{className:"toggle-edit-button",onClick:()=>de(!re),children:re?"Back to Suppliers":"Add/Edit Suppliers and Categories"}),re?b.jsxs("div",{className:"editing-section",children:[b.jsxs("button",{className:"go-back-button",onClick:()=>de(!1),children:[b.jsx(C1,{})," Go Back to Supplier List"]}),b.jsx("h2",{children:"Add/Edit Suppliers and Categories"}),b.jsxs("div",{className:"supplier-form",ref:Ee,children:[b.jsxs("h2",{children:[p?"Edit":"Add"," Supplier"]}),v&&b.jsx("div",{className:"error-message",children:v}),b.jsx("input",{type:"text",placeholder:"Supplier Name",value:d.name,onChange:_=>{h({...d,name:_.target.value}),N("")}}),b.jsx("input",{type:"text",placeholder:"Origin",value:d.origin,onChange:_=>h({...d,origin:_.target.value})}),b.jsxs("select",{value:d.category,onChange:_=>h({...d,category:_.target.value}),children:[b.jsx("option",{value:"",children:"Select a category"}),O.map(_=>b.jsx("option",{value:_,children:_},_))]}),b.jsx("input",{type:"text",placeholder:"Description",value:d.desc,onChange:_=>h({...d,desc:_.target.value})}),b.jsxs("button",{onClick:xe,children:[p?"Update":"Add"," Supplier"]})]}),b.jsx(T1,{categories:O,onAddCategory:Ie,onDeleteCategory:B})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"search-bar",children:[b.jsx("input",{type:"text",placeholder:"Search suppliers...",value:r,onChange:_=>o(_.target.value)}),b.jsxs("select",{value:l,onChange:_=>u(_.target.value),children:[b.jsx("option",{value:"",children:"Select a supplier"}),i.map(_=>b.jsx("option",{value:_.name,children:_.name},_.id))]}),b.jsxs("select",{value:U,onChange:_=>ee(_.target.value),children:[b.jsx("option",{value:"",children:"All Categories"}),O.map(_=>b.jsx("option",{value:_,children:_},_))]}),b.jsx("button",{onClick:X,className:"search-button",children:b.jsx(I1,{})})]}),b.jsx("div",{className:"supplier-list",children:i.filter(_=>(r===""||_.name.toLowerCase().includes(r.toLowerCase())||_.category.toLowerCase().includes(r.toLowerCase()))&&(l===""||_.name===l)&&(U===""||_.category===U)).map(_=>b.jsxs("div",{className:"supplier-card",children:[b.jsx("h3",{children:_.name}),b.jsxs("p",{children:["Origin: ",_.origin]}),b.jsxs("div",{className:"category-select",children:[b.jsx("label",{htmlFor:`category-${_.id}`,children:"Category:"}),b.jsx("select",{id:`category-${_.id}`,value:_.category,onChange:R=>$(_.id,R.target.value),children:O.map(R=>b.jsx("option",{value:R,children:R},R))})]}),b.jsx("p",{children:_.desc}),b.jsxs("div",{className:"product-table-container",children:[b.jsx("h4",{children:"Products"}),b.jsxs("table",{className:"product-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Product Name"}),b.jsx("th",{children:"Price per Unit (RM)"}),b.jsx("th",{children:"Action"})]})}),b.jsx("tbody",{children:(_.products||[]).map((R,G)=>b.jsxs("tr",{className:"product-row",children:[b.jsx("td",{children:(x==null?void 0:x.supplierId)===_.id&&(x==null?void 0:x.productIndex)===G?b.jsx("input",{type:"text",value:R.name,onChange:J=>{const te=[..._.products];te[G]={...R,name:J.target.value},er(Qt(Kt,`suppliers/${_.id}`),{products:te})}}):b.jsx("span",{children:R.name})}),b.jsx("td",{children:(x==null?void 0:x.supplierId)===_.id&&(x==null?void 0:x.productIndex)===G?b.jsx("input",{type:"number",value:R.price,onChange:J=>{const te=[..._.products];te[G]={...R,price:J.target.value},er(Qt(Kt,`suppliers/${_.id}`),{products:te})}}):b.jsx("span",{children:parseFloat(R.price).toFixed(2)})}),b.jsx("td",{children:b.jsx("div",{className:"product-action-icons",children:(x==null?void 0:x.supplierId)===_.id&&(x==null?void 0:x.productIndex)===G?b.jsxs(b.Fragment,{children:[b.jsx(x1,{className:"product-action-icon save-icon",onClick:()=>kt(_.id,G,R),title:"Save"}),b.jsx(S1,{className:"product-action-icon cancel-icon",onClick:()=>D(null),title:"Cancel"})]}):b.jsxs(b.Fragment,{children:[b.jsx(Kp,{className:"product-action-icon edit-icon",onClick:()=>gt(_.id,G),title:"Edit"}),b.jsx(Qp,{className:"product-action-icon delete-icon",onClick:()=>it(_.id,G),title:"Delete"})]})})})]},G))})]}),b.jsxs("div",{className:"add-product",children:[b.jsx("input",{type:"text",placeholder:"Product Name",value:E.name,onChange:R=>w({...E,name:R.target.value})}),b.jsx("input",{type:"number",placeholder:"Price",value:E.price,onChange:R=>w({...E,price:R.target.value})}),b.jsx("button",{onClick:()=>St(_.id,E),children:b.jsx(k1,{})})]})]}),b.jsxs("div",{className:"supplier-actions",children:[b.jsxs("button",{className:"edit-button",onClick:()=>Ct(_),children:[b.jsx(Kp,{})," Edit"]}),b.jsxs("button",{className:"delete-button",onClick:()=>ze(_.id),children:[b.jsx(Qp,{})," Delete"]})]})]},_.id))})]})]})}function R1(){return b.jsx(i0,{children:b.jsx(Lv,{children:b.jsx(om,{path:"/supply-db",element:b.jsx(N1,{})})})})}$y.createRoot(document.getElementById("root")).render(b.jsx(P.StrictMode,{children:b.jsx(R1,{})}));
